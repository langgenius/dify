# ------------------------------
# Security Configuration
# ------------------------------

# Unstructured API path and API key, needs to be configured when ETL_TYPE is Unstructured
# Notion OAuth client secret (used for public integration type)
# to prevent some problems caused by monkey patch.
# A secret key that is used for securely signing the session cookie
# You can generate a strong key using `openssl rand -base64 42`.
# Aliyun Access Key ID
SECRET_KEY=sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U

# Password for admin user initialization.
# If left unset, admin user will not be prompted for a password
# when creating the initial admin account.
# The length of the password cannot exceed 30 characters.
INIT_PASSWORD=

# Deployment environment.
# Supported values are `PRODUCTION`, `TESTING`. Default is `PRODUCTION`.
# Testing environment. There will be a distinct color label on the front-end page,
# indicating that this environment is a testing environment.

# Whether to enable the version check policy.
# If set to empty, https://updates.dify.ai will be called for version check.

# Refresh token expiration time in days

# The default number of active requests for the application, where 0 means unlimited, should be a non-negative integer.
# The maximum number of active requests for the application, where 0 means unlimited, should be a non-negative integer.

# Container Startup Related Configuration
# Only effective when starting with docker image or docker-compose.

# API service binding address, default: 0.0.0.0, i.e., all addresses can be accessed.

# API service binding port number, default 5001.

# The number of API server workers, i.e., the number of workers.
# Formula: number of cpu cores x 2 + 1 for sync, 1 for Gevent
# Reference: https://docs.gunicorn.org/en/stable/design.html#how-many-workers

# Defaults to gevent. If using windows, it can be switched to sync or solo.
#
# Warning: Changing this parameter requires disabling patching for
# psycopg2 and gRPC (see `gunicorn.conf.py` and `celery_entrypoint.py`).
# Modifying it may also decrease throughput.
#
# It is strongly discouraged to change this parameter.

# Default number of worker connections, the default is 10.

# Similar to SERVER_WORKER_CLASS.
# If using windows, it can be switched to sync or solo.
#
# Warning: Changing this parameter requires disabling patching for
# psycopg2 and gRPC (see `gunicorn_conf.py` and `celery_entrypoint.py`).
# Modifying it may also decrease throughput.
#
# It is strongly discouraged to change this parameter.
# Whether to use AWS managed IAM roles for authenticating with the S3 service.
# If set to false, the access key and secret key must be provided.

# For OceanBase metadata database configuration, available when `DB_TYPE` is `oceanbase`.
COUCHBASE_PASSWORD=password
COUCHBASE_BUCKET_NAME=Embeddings
COUCHBASE_SCOPE_NAME=_default


# If using AWS managed IAM, e.g. Managed Cluster or OpenSearch Serverless


# Using ElasticSearch Cloud Serverless, or not.





# TableStore Vector configuration


# Model Configuration

# The maximum number of tokens allowed for prompt generation.
# This setting controls the upper limit of tokens that can be used by the LLM
# when generating a prompt in the prompt generation tool.
# Default: 512 tokens.

# The maximum number of tokens allowed for code generation.
# This setting controls the upper limit of tokens that can be used by the LLM
# when generating code in the code generation tool.
# Default: 1024 tokens.

# Enable or disable plugin based token counting. If disabled, token counting will return 0.
# This can improve performance by skipping token counting operations.
# Default: false (disabled).

# Multi-modal Configuration

# The format of the image/video/audio/document sent when the multi-modal model is input,
# the default is base64, optional url.
# The delay of the call in url mode will be lower than that in base64 mode.
# It is generally recommended to use the more compatible base64 mode.
# Notion OAuth client id (used for public integration type)
# Notion internal integration secret.
# If the value of NOTION_INTEGRATION_TYPE is "internal",
# you need to configure this variable.

# Mail related configuration

# Mail type, support: resend, smtp, sendgrid

# Default send from email address, if not specified
# If using SendGrid, use the 'from' field for authentication if necessary.

# API-Key for the Resend email provider, used when MAIL_TYPE is `resend`.


# SMTP server configuration, used when MAIL_TYPE is `smtp`
# Optional: override the local hostname used for SMTP HELO/EHLO

# Sendgid configuration

# Others Configuration

# Maximum length of segmentation tokens for indexing

# Member invitation link valid time (hours),
# Default: 72.

# Reset password token valid time (minutes),

# The sandbox service endpoint.

# Workflow runtime configuration

# GraphEngine Worker Pool Configuration
# Minimum number of workers per GraphEngine instance (default: 1)
# Maximum number of workers per GraphEngine instance (default: 10)
# Queue depth threshold that triggers worker scale up (default: 3)
# Seconds of idle time before scaling down workers (default: 5.0)

# Workflow storage configuration
# Options: rdbms, hybrid
# rdbms: Use only the relational database (default)
# hybrid: Save new data to object storage, read from both object storage and RDBMS
# Aliyun Access Key Secret
# Aliyun SLS Endpoint (e.g., cn-hangzhou.log.aliyuncs.com)
# HTTP_REQUEST_NODE_SSL_CLIENT_KEY_DATA=LS0tLS1CRUdJTi...

# Webhook request configuration

# Respect X-* headers to redirect clients

# The mode in which the Gin framework runs
# The timeout for the worker in seconds
# Enable network for the sandbox service

# Environment Variables for Chroma
# MinIO secret key for authentication
# ETCD service endpoints
# MinIO service address
# Enable or disable security authorization
# The name of the default postgres database.

# Environment Variables for Nginx reverse proxy
# HTTP port
# SSL settings are only applied when HTTPS_ENABLED is true
# if HTTPS_ENABLED is true, you're required to add your own SSL certificates/keys to the `./nginx/ssl` directory
# and modify the env vars below accordingly.

# Nginx performance tuning

# Proxy settings

# Set true to accept requests for /.well-known/acme-challenge/

# Certbot Configuration

# Email address (required to get certificates from Let's Encrypt)

# Domain name

# certbot command options
# i.e: --force-renewal --dry-run --test-cert --debug

# Environment Variables for SSRF Proxy

# docker env var for specifying vector db and metadata db type at startup
# (based on the vector db and metadata db type, the corresponding docker
# compose profile will be used)
# if you want to use unstructured, add ',unstructured' to the end
# If this key is changed, DIFY_INNER_API_KEY in plugin_daemon service must also be updated or agent node will fail.
# Plugin oss azure blob

# Prevent Clickjacking

# Dataset queue monitor configuration
# You can configure multiple ones, separated by commas. eg: test1@dify.ai,test2@dify.ai
# Monitor interval in minutes, default is 30 minutes

# Swagger UI configuration

# Whether to encrypt dataset IDs when exporting DSL files (default: true)
# Set to false to export dataset IDs as plain text for easier cross-environment import

# Maximum number of segments for dataset segments API (0 for unlimited)

# Celery schedule tasks configuration

# Tenant isolated task queue configuration

# Maximum allowed CSV file size for annotation import in megabytes
#Maximum number of annotation records allowed in a single import
# Minimum number of annotation records required in a single import
# Maximum number of concurrent annotation import tasks per tenant

# The API key of amplitude

# Sandbox expired records clean configuration
# The API key for the sandbox service
# Path to client private key file for SSL authentication
# Format as follows: `redis://<redis_username>:<redis_password>@<redis_host>:<redis_port>/<redis_database>`.
# If use Redis Sentinel, format as follows: `sentinel://<redis_username>:<redis_password>@<sentinel_host1>:<sentinel_port>/<redis_database>`
# Base64 encoded client private key data for mutual TLS authentication (PEM format, optional)
COUCHBASE_CONNECTION_STRING=couchbase://couchbase-server
COUCHBASE_USER=Administrator
# MinIO access key for authentication
# The password for the default postgres user.
