app:
  description: ''
  icon: ü§ñ
  icon_background: '#FFEAD5'
  mode: workflow
  name: ÂèØÁî®ÊÄßÂëäË≠¶ÂàÜÊûê
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/openai_api_compatible:0.0.7@f20c7275bbcf055ec5d170dd5128e341986e2dcba5266d08fd080d4bdf2288f6
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: end
      id: 1741592094819-source-1741592144815-target
      selected: false
      source: '1741592094819'
      sourceHandle: source
      target: '1741592144815'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: code
      id: 1741227526517-source-1742807803325-target
      selected: false
      source: '1741227526517'
      sourceHandle: source
      target: '1742807803325'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1744878352649-source-1744878296971-target
      selected: false
      source: '1744878352649'
      sourceHandle: source
      target: '1744878296971'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1744878296971-source-1744901266309-target
      selected: false
      source: '1744878296971'
      sourceHandle: source
      target: '1744901266309'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1744901266309-source-1744878372490-target
      selected: false
      source: '1744901266309'
      sourceHandle: source
      target: '1744878372490'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1742807803325-source-1742453019576-target
      selected: false
      source: '1742807803325'
      sourceHandle: source
      target: '1742453019576'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: code
      id: 17430590082510-1744901735377-1744878352649-target
      selected: false
      source: '17430590082510'
      sourceHandle: '1744901735377'
      target: '1744878352649'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: end
      id: 1745313576757-source-1745313574375-target
      selected: false
      source: '1745313576757'
      sourceHandle: source
      target: '1745313574375'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: template-transform
      id: 1742453019576-true-1741592094819-target
      selected: false
      source: '1742453019576'
      sourceHandle: 'true'
      target: '1741592094819'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: template-transform
      id: 17430590082510-1745391097407-1745313576757-target
      selected: false
      source: '17430590082510'
      sourceHandle: '1745391097407'
      target: '1745313576757'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750839702220-source-1750839691646-target
      selected: false
      source: '1750839702220'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750840042580-source-1750839691646-target
      selected: false
      source: '1750840042580'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1750840340832-source-1750840042580-target
      selected: false
      source: '1750840340832'
      sourceHandle: source
      target: '1750840042580'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750843294839-source-1750839691646-target
      selected: false
      source: '1750843294839'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750843922551-source-1750839691646-target
      selected: false
      source: '1750843922551'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750843945254-source-1750839691646-target
      selected: false
      source: '1750843945254'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: variable-aggregator
      id: 1750844540721-source-1744878466157-target
      selected: false
      source: '1750844540721'
      sourceHandle: source
      target: '1744878466157'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1750846397041-source-1750843922551-target
      selected: false
      source: '1750846397041'
      sourceHandle: source
      target: '1750843922551'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1750846407202-source-1750843945254-target
      selected: false
      source: '1750846407202'
      sourceHandle: source
      target: '1750843945254'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1750941439700-source-1750839691646-target
      selected: false
      source: '1750941439700'
      sourceHandle: source
      target: '1750839691646'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1750987639392-source-1750840340832-target
      selected: false
      source: '1750987639392'
      sourceHandle: source
      target: '1750840340832'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1751004239868-source-1744878476249-target
      selected: false
      source: '1751004239868'
      sourceHandle: source
      target: '1744878476249'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1751251291730-source-1750843294839-target
      selected: false
      source: '1751251291730'
      sourceHandle: source
      target: '1750843294839'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1751602453263-source-1751004239868-target
      selected: false
      source: '1751602453263'
      sourceHandle: source
      target: '1751004239868'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: tool
      id: 1750839691646-source-1751602453263-target
      selected: false
      source: '1750839691646'
      sourceHandle: source
      target: '1751602453263'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1751602618703-false-1750839702220-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1750839702220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1751602618703-false-1750987639392-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1750987639392'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1751602618703-false-1750846397041-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1750846397041'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1751602618703-false-1750941439700-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1750941439700'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1751602618703-false-1750846407202-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1750846407202'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1751602618703-false-1751251291730-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'false'
      target: '1751251291730'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: end
      id: 1751602618703-true-1751602687916-target
      selected: false
      source: '1751602618703'
      sourceHandle: 'true'
      target: '1751602687916'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1742453019576-false-1753411561314-target
      selected: false
      source: '1742453019576'
      sourceHandle: 'false'
      target: '1753411561314'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1753411561314-source-1753412450611-target
      selected: false
      source: '1753411561314'
      sourceHandle: source
      target: '1753412450611'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: question-classifier
      id: 1753412450611-false-17430590082510-target
      selected: false
      source: '1753412450611'
      sourceHandle: 'false'
      target: '17430590082510'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1753412450611-true-1744878352649-target
      selected: false
      source: '1753412450611'
      sourceHandle: 'true'
      target: '1744878352649'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1753413225096-source-1753412973821-target
      selected: false
      source: '1753413225096'
      sourceHandle: source
      target: '1753412973821'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1753414138349-source-1753414255071-target
      selected: false
      source: '1753414138349'
      sourceHandle: source
      target: '1753414255071'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        iteration_id: '1753414276399'
        sourceType: iteration-start
        targetType: tool
      id: 1753414276399start-source-1753414387530-target
      selected: false
      source: 1753414276399start
      sourceHandle: source
      target: '1753414387530'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        iteration_id: '1753414276399'
        sourceType: tool
        targetType: tool
      id: 1753414387530-source-1753414403009-target
      selected: false
      source: '1753414387530'
      sourceHandle: source
      target: '1753414403009'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        sourceType: code
        targetType: iteration
      id: 1753414587601-source-1753414518300-target
      selected: false
      source: '1753414587601'
      sourceHandle: source
      target: '1753414518300'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        iteration_id: '1753414518300'
        sourceType: iteration-start
        targetType: code
      id: 1753414518300start-source-1753414924837-target
      selected: false
      source: 1753414518300start
      sourceHandle: source
      target: '1753414924837'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        iteration_id: '1753414518300'
        sourceType: code
        targetType: tool
      id: 1753414924837-source-1753414547927-target
      selected: false
      source: '1753414924837'
      sourceHandle: source
      target: '1753414547927'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        iteration_id: '1753414518300'
        sourceType: tool
        targetType: code
      id: 1753414547927-source-1753415013827-target
      selected: false
      source: '1753414547927'
      sourceHandle: source
      target: '1753415013827'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1753426546760-source-1753437328850-target
      selected: false
      source: '1753426546760'
      sourceHandle: source
      target: '1753437328850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1753436673318-source-1753437974705-target
      selected: false
      source: '1753436673318'
      sourceHandle: source
      target: '1753437974705'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1753436803036-source-1753437974705-target
      selected: false
      source: '1753436803036'
      sourceHandle: source
      target: '1753437974705'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        iteration_id: '1753414276399'
        sourceType: tool
        targetType: code
      id: 1753414403009-source-1753681278579-target
      selected: false
      source: '1753414403009'
      sourceHandle: source
      target: '1753681278579'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: true
        iteration_id: '1753414276399'
        sourceType: code
        targetType: code
      id: 1753681278579-source-1753421605090-target
      selected: false
      source: '1753681278579'
      sourceHandle: source
      target: '1753421605090'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 1753414255071-source-1753414587601-target
      selected: false
      source: '1753414255071'
      sourceHandle: source
      target: '1753414587601'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1753412450611-91b6ca4c-4632-412a-89b1-cbd1539e374f-1753414138349-target
      selected: false
      source: '1753412450611'
      sourceHandle: 91b6ca4c-4632-412a-89b1-cbd1539e374f
      target: '1753414138349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1753412450611-da617f11-ed6f-44ec-9477-73d6f81455fa-1753414138349-target
      selected: false
      source: '1753412450611'
      sourceHandle: da617f11-ed6f-44ec-9477-73d6f81455fa
      target: '1753414138349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: iteration
        targetType: llm
      id: 1753414276399-source-1753684009639-target
      selected: false
      source: '1753414276399'
      sourceHandle: source
      target: '1753684009639'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1753437328850-source-1753426534118-target
      selected: false
      source: '1753437328850'
      sourceHandle: source
      target: '1753426534118'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1753426534118-source-1753436803036-target
      selected: false
      source: '1753426534118'
      sourceHandle: source
      target: '1753436803036'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1753433531861-source-1753686431084-target
      selected: false
      source: '1753433531861'
      sourceHandle: source
      target: '1753686431084'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1753437974705-source-1753686431084-target
      selected: false
      source: '1753437974705'
      sourceHandle: source
      target: '1753686431084'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: iteration
        targetType: code
      id: 1753414518300-source-1753687345334-target
      selected: false
      source: '1753414518300'
      sourceHandle: source
      target: '1753687345334'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1753414255071-source-1753413225096-target
      selected: false
      source: '1753414255071'
      sourceHandle: source
      target: '1753413225096'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: tool
      id: 1753691720044-source-1753691763954-target
      selected: false
      source: '1753691720044'
      sourceHandle: source
      target: '1753691763954'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1753691763954-source-1753436673318-target
      selected: false
      source: '1753691763954'
      sourceHandle: source
      target: '1753436673318'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1753687345334-source-1753755983769-target
      selected: false
      source: '1753687345334'
      sourceHandle: source
      target: '1753755983769'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1753755983769-true-1753433531861-target
      selected: false
      source: '1753755983769'
      sourceHandle: 'true'
      target: '1753433531861'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: tool
      id: 1753412973821-source-17537573455000-target
      selected: false
      source: '1753412973821'
      sourceHandle: source
      target: '17537573455000'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 17537573455000-source-17537573455001-target
      selected: false
      source: '17537573455000'
      sourceHandle: source
      target: '17537573455001'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: iteration
      id: 17537573455001-source-1753414276399-target
      selected: false
      source: '17537573455001'
      sourceHandle: source
      target: '1753414276399'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: tool
      id: 17430590082510-1744901730034-1753414138349-target
      selected: false
      source: '17430590082510'
      sourceHandle: '1744901730034'
      target: '1753414138349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: tool
      id: 17430590082510-1753758073662-1753414138349-target
      source: '17430590082510'
      sourceHandle: '1753758073662'
      target: '1753414138349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: variable-aggregator
      id: 1753686431084-source-1750844540721-target
      source: '1753686431084'
      sourceHandle: source
      target: '1750844540721'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1753684009639-source-1753686431084-target
      source: '1753684009639'
      sourceHandle: source
      target: '1753686431084'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1744878372490-source-1753760026114-target
      source: '1744878372490'
      sourceHandle: source
      target: '1753760026114'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: variable-aggregator
      id: 1753760026114-source-1750844540721-target
      source: '1753760026114'
      sourceHandle: source
      target: '1750844540721'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: variable-aggregator
      id: 1744878466157-source-1753760065732-target
      source: '1744878466157'
      sourceHandle: source
      target: '1753760065732'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: if-else
      id: 1753760065732-source-1751602618703-target
      source: '1753760065732'
      sourceHandle: source
      target: '1751602618703'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: tool
      id: 1753755983769-false-1753436915396-target
      source: '1753755983769'
      sourceHandle: 'false'
      target: '1753436915396'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: tool
      id: 1753436915396-source-1753691720044-target
      source: '1753436915396'
      sourceHandle: source
      target: '1753691720044'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: tool
      id: 1753436915396-source-1753426546760-target
      source: '1753436915396'
      sourceHandle: source
      target: '1753426546760'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: start
        type: start
        variables:
        - label: startTime
          max_length: 48
          options: []
          required: true
          type: number
          variable: startTime
        - label: endTime
          max_length: 48
          options: []
          required: true
          type: number
          variable: endTime
        - label: params
          max_length: 9999999
          options: []
          required: false
          type: paragraph
          variable: params
        - label: nodeName
          max_length: null
          options: []
          required: false
          type: paragraph
          variable: nodeName
        - label: edition
          max_length: 48
          options: []
          required: false
          type: paragraph
          variable: edition
      height: 194
      id: '1741227526517'
      position:
        x: 30
        y: 302
      positionAbsolute:
        x: 30
        y: 302
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        selected: false
        template: ÊúçÂä°ÂêçÂíåPodÂùá‰∏∫Á©∫ÔºåÊó†Ê≥ïÂàÜÊûêÊ†πÂõ†„ÄÇ
        title: unsupport alert
        type: template-transform
        variables: []
      height: 54
      id: '1741592094819'
      position:
        x: 942
        y: 302
      positionAbsolute:
        x: 942
        y: 302
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1741592094819'
          - output
          variable: output
        selected: false
        title: End
        type: end
      height: 90
      id: '1741592144815'
      position:
        x: 1246
        y: 302
      positionAbsolute:
        x: 1246
        y: 302
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 22866ae7-2bfa-47e9-9c19-d31e8b63001f
            value: ''
            varType: string
            variable_selector:
            - '1742807803325'
            - pod
          - comparison_operator: empty
            id: add89997-787b-4d71-a187-3e9f8e8f25a3
            value: ''
            varType: string
            variable_selector:
            - '1742807803325'
            - service
          - comparison_operator: empty
            id: 92ba41ac-2567-4509-a249-0a520408d145
            value: ''
            varType: string
            variable_selector:
            - '1742807803325'
            - nodeName
          - comparison_operator: empty
            id: 95786764-d469-4d88-af11-54420e537571
            value: ''
            varType: string
            variable_selector:
            - '1742807803325'
            - containerId
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: alert instance info
        type: if-else
      height: 204
      id: '1742453019576'
      position:
        x: 638
        y: 302
      positionAbsolute:
        x: 638
        y: 302
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\ndef get_value(data, keys): \n    for key in keys: \n \
          \       value = data.get(key) \n        if value is not None: \n       \
          \     return value \n    return \"\" \n\ndef main(arg: str, node: str) ->\
          \ dict:\n    data = json.loads(arg) \n    detail_str = data.get(\"detail\"\
          , \"\")\n    detail = json.loads(detail_str) if detail_str else {}\n   \
          \ description = detail.get(\"description\", \"\")\n    lines = description.split(\"\
          \\n\")\n    raw_tags = data.get(\"raw_tags\", {})\n    try:\n        labels_line\
          \ = lines[1]\n        start = labels_line.index(\"[\") + 1\n        end\
          \ = labels_line.index(\"]\")\n        map_content = labels_line[start:end]\n\
          \        pairs = map_content.split()\n        labels_dict = {pair.split(\"\
          :\", 1)[0]: pair.split(\":\", 1)[1] for pair in pairs}\n        source_from\
          \ = labels_dict.get(\"source_from\", \"\")\n    except (IndexError, ValueError):\n\
          \      source_from = \"\"\n\n    return { \n        \"alertName\": get_value(data,\
          \ [\"alertname\", \"alertName\", \"alert_name\"]),\n        \"service\"\
          : get_value(data, [\"svc_name\", \"service\"]), \n        \"endpoint\":\
          \ get_value(data, [\"endpoint\", \"content_key\"]), \n        \"pod\": get_value(data,\
          \ [\"pod\", \"src_pod\", \"pod_name\"]), \n        \"namespace\": get_value(data,\
          \ [\"namespace\", \"src_namespace\"]),\n        \"pid\": get_value(data,\
          \ [\"pid\"]),\n        \"containerId\": get_value(data, [\"containerId\"\
          ]),\n        \"nodeName\": node if node else get_value(data, [\"node\",\
          \ \"src_node\", \"node_name\", \"nodeName\"]),\n        \"sourceFrom\":\
          \ source_from,\n        \"alertEventId\": get_value(data, [\"alertEventId\"\
          ]),\n        \"comm\": get_value(raw_tags, [\"comm\"]),\n        \"workloadName\"\
          : get_value(raw_tags, [\"workload_name\"])\n    }"
        code_language: python3
        desc: ''
        outputs:
          alertEventId:
            children: null
            type: string
          alertName:
            children: null
            type: string
          comm:
            children: null
            type: string
          containerId:
            children: null
            type: string
          endpoint:
            children: null
            type: string
          namespace:
            children: null
            type: string
          nodeName:
            children: null
            type: string
          pid:
            children: null
            type: string
          pod:
            children: null
            type: string
          service:
            children: null
            type: string
          sourceFrom:
            children: null
            type: string
          workloadName:
            children: null
            type: string
        selected: false
        title: get alert event label info
        type: code
        variables:
        - value_selector:
          - '1741227526517'
          - params
          variable: arg
        - value_selector:
          - '1741227526517'
          - nodeName
          variable: node
      height: 54
      id: '1742807803325'
      position:
        x: 334
        y: 302
      positionAbsolute:
        x: 334
        y: 302
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1744901730034'
          name: ËØ∑Ê±ÇÈîôËØØÁéá
        - id: '1744901735377'
          name: Êó•ÂøóÈîôËØØÊï∞
        - id: '1745391097407'
          name: ÂÖ∂‰ªñ
        - id: '1753758073662'
          name: ËøõÁ®ã‰∏çÊ¥ªË∑É/ÊúçÂä°‰∏çÂèØÁî®
        desc: ''
        instruction: ‰Ω†ÊòØ‰∏Ä‰∏™Êô∫ËÉΩÂëäË≠¶ÂàÜÁ±ªÂä©Êâã„ÄÇ‰Ω†ÁöÑ‰ªªÂä°ÊòØÂØπÁªôÂÆöÁöÑË≠¶Êä•‰∫ã‰ª∂ËøõË°åÂàÜÁ±ª„ÄÇ
        instructions: ''
        isInIteration: true
        iteration_id: '1741497176064'
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        query_variable_selector:
        - '1742807803325'
        - alertName
        selected: false
        title: alert event cls
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 240
      id: '17430590082510'
      position:
        x: 1550
        y: 928
      positionAbsolute:
        x: 1550
        y: 928
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Query condition(clickhouse where clause).
            ja_JP: Query condition(clickhouse where clause).
            pt_BR: Query condition(clickhouse where clause).
            zh_Hans: Êü•ËØ¢Êù°‰ª∂Ôºàclickhouse whereÂ≠êÂè•Ôºâ
          label:
            en_US: Query condition(clickhouse where clause).
            ja_JP: Query condition(clickhouse where clause).
            pt_BR: Query condition(clickhouse where clause).
            zh_Hans: Êü•ËØ¢Êù°‰ª∂Ôºàclickhouse whereÂ≠êÂè•Ôºâ
          llm_description: Query condition(clickhouse where clause).
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Start timestamp in microseconds
            ja_JP: Start timestamp in microseconds
            pt_BR: Start timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÂºÄÂßãÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: Start Time
            ja_JP: Start Time
            pt_BR: Start Time
            zh_Hans: ÂºÄÂßãÊó∂Èó¥
          llm_description: Microsecond timestamp for start time
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: End timestamp in microseconds
            ja_JP: End timestamp in microseconds
            pt_BR: End timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÁªìÊùüÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: End Time
            ja_JP: End Time
            pt_BR: End Time
            zh_Hans: ÁªìÊùüÊó∂Èó¥
          llm_description: Microsecond timestamp for end time
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          endTime: ''
          query: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_name: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          pageNum:
            type: constant
            value: 1
          pageSize:
            type: constant
            value: 999
          query:
            type: mixed
            value: '{{#1744878352649.query#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1744878296971'
      position:
        x: 5338
        y: 1058
      positionAbsolute:
        x: 5338
        y: 1058
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(pod: str, service: str, node: str, pid: str, containerId:\
          \ str, sourceFrom: str) -> dict:\n    query = ''\n    if len(containerId)\
          \ > 0 and len(node) > 0:\n        query = f\"\"\"container_id='{containerId}'\
          \ and host_name='{node}'\"\"\"\n    elif len(pod) > 0 and len(service) >\
          \ 0:\n        query = f\"\"\"k8s_pod_name='{pod}' and container_name='{service}'\"\
          \"\"\n    elif len(pod) > 0:\n        query = f\"\"\"k8s_pod_name='{pod}'\"\
          \"\"\n    elif len(node) > 0 and len(pid) > 0:\n        query = f\"\"\"\
          host_name='{node}' and pid='{pid}'\"\"\"\n    elif len(service) > 0:\n \
          \       query = f\"\"\"container_name='{service}'\"\"\"\n    elif len(containerId)\
          \ > 0:\n        query = f\"\"\"container_id='{containerId}'\"\"\"\n    elif\
          \ len(node) > 0:\n        query = f\"\"\"host_name='{node}'\"\"\"\n\n  \
          \  if len(sourceFrom) > 0:\n        if len(query) > 0:\n            query\
          \ += f\" and source='{sourceFrom}'\"\n        else:\n            query =\
          \ f\"\"\"source='{sourceFrom}'\"\"\"\n            \n    return {\n     \
          \   \"query\": query,\n    }"
        code_language: python3
        desc: ''
        outputs:
          query:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊü•ËØ¢Êù°‰ª∂
        type: code
        variables:
        - value_selector:
          - '1742807803325'
          - pod
          variable: pod
        - value_selector:
          - '1742807803325'
          - service
          variable: service
        - value_selector:
          - '1742807803325'
          - nodeName
          variable: node
        - value_selector:
          - '1742807803325'
          - pid
          variable: pid
        - value_selector:
          - '1742807803325'
          - containerId
          variable: containerId
        - value_selector:
          - '1742807803325'
          - sourceFrom
          variable: sourceFrom
      height: 54
      id: '1744878352649'
      position:
        x: 5034
        y: 1058
      positionAbsolute:
        x: 5034
        y: 1058
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 615ece65-9193-4bad-a375-d51b67dbaafc
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: cc52b45f-d678-4d55-98d1-7ed48f7b4091
          role: user
          text: '# ÁõÆÁöÑ

            Ê†πÊçÆÂºÇÂ∏∏podÔºåÁªìÂêàÁõ∏ÂÖ≥Êó•ÂøóÔºåÂàÜÊûêÂëäË≠¶{{#1742807803325.alertName#}}

            ‰∫ßÁîüÁöÑÂéüÂõ†ÂíåÂØπ{{#1742807803325.service#}}

            Êàñ{{#1742807803325.pod#}}

            ÁöÑÂΩ±ÂìçÔºåÊúÄÂêéÊé®ÊµãÊòØÂÜÖÈÉ®ÈóÆÈ¢òËøòÊòØÂ§ñÈÉ®ÈóÆÈ¢ò„ÄÇ


            # Êï∞ÊçÆ

            Êï∞ÊçÆÂåÖÊã¨Ôºö

            1. ÂØπÂ∫îÊó∂Èó¥ÂÜÖÁöÑerrorÊó•Âøó{{#1744901266309.result#}}


            # ÂàÜÊûêÊÄùË∑Ø

            ÁªìÂêàÂºÇÂ∏∏podsÂíåÊó•ÂøóÔºåÊâæÂà∞Âá∫ÈîôpodsÂíåÂØπÂ∫îÁöÑÈîôËØØÂÜÖÂÆπÔºåÂàÜÊûêÈîôËØØÂéüÂõ†„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂºÇÂ∏∏Êó•ÂøóÂàôÊèêÁ§∫Áî®Êà∑‰∏ªÂä®Êü•ÁúãÁõ∏ÂÖ≥Êó∂Èó¥ÂÜÖÁöÑÊó•ÂøóÂÜÖÂÆπÔºåÂπ∂ÊèêÈÜíÁî®Êà∑ÈÖçÁΩÆÊó•ÂøóËß£ÊûêËßÑÂàô„ÄÇ


            # Ê≥®ÊÑè‰∫ãÈ°π

            - Êó∂Èó¥Âçï‰ΩçÂùá‰∏∫ÂæÆÁßí


            # ËæìÂá∫ÂÜÖÂÆπ

            ÂëäË≠¶{{#1742807803325.alertName#}}

            ‰∫ßÁîüÁöÑÂéüÂõ†ÊòØxxÔºåÂØπ

            {{#1742807803325.pod#}}Êàñ{{#1742807803325.service#}}

            ÁöÑÂΩ±ÂìçÊòØÔºöÂì™‰∫õpodsÂá∫ÈîôÔºåÂÖ∑‰ΩìÊó•Âøó‰∏∫xx„ÄÇ


            Ëß£ÂÜ≥ÊñπÊ°àÔºöxx'
        selected: false
        title: ÊÄªÁªìÊó•ÂøóÈîôËØØ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1744878372490'
      position:
        x: 6998
        y: 1058
      positionAbsolute:
        x: 6998
        y: 1058
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: ËÅöÂêàÂàÜÊûêÊÄªÁªì
        type: variable-aggregator
        variables:
        - - '1744878372490'
          - text
        - - '1753686431084'
          - output
      height: 131
      id: '1744878466157'
      position:
        x: 7910
        y: 628
      positionAbsolute:
        x: 7910
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1744878466157'
          - output
          variable: text
        - value_selector:
          - '1751602453263'
          - text
          variable: output
        - value_selector:
          - '1751004239868'
          - text
          variable: alertDirection
        selected: false
        title: ÁªìÊùü
        type: end
      height: 142
      id: '1744878476249'
      position:
        x: 10662
        y: 963
      positionAbsolute:
        x: 10662
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\nimport json\nfrom typing import List, Dict, Tuple, Set,\
          \ Optional\n\n\nclass ServiceUnavailableDetector:\n    \"\"\"ÊúçÂä°‰∏çÂèØÁî®Êó•ÂøóÊ£ÄÊµãÂô®\"\
          \"\"\n    \n    def __init__(self):\n        self.patterns = self._initialize_patterns()\n\
          \        self.compiled_patterns = self._compile_patterns()\n    \n    def\
          \ _initialize_patterns(self) -> List[Dict]:\n        \"\"\"ÂàùÂßãÂåñÈîôËØØÊ®°ÂºèÂ∫ì\"\"\"\
          \n        patterns = []\n        \n        # ËøûÊé•ÈîôËØØ - Ëã±Êñá (Â§ñÈÉ®ÈóÆÈ¢ò)\n        connection_patterns_en\
          \ = [\n            r\"connection\\s+refused\",\n            r\"connection\\\
          s+reset\",\n            r\"connection\\s+closed\",\n            r\"connection\\\
          s+aborted\",\n            r\"connection\\s+failed\",\n            r\"connection\\\
          s+timeout\",\n            r\"can['\\s]*t\\s+connect\",\n            r\"\
          unable\\s+to\\s+connect\",\n            r\"failed\\s+to\\s+connect\",\n\
          \            r\"connect\\s+error\",\n            r\"network\\s+unreachable\"\
          ,\n            r\"host\\s+unreachable\",\n            r\"no\\s+route\\s+to\\\
          s+host\",\n            r\"connection\\s+timed\\s+out\",\n        ]\n   \
          \     \n        for pattern in connection_patterns_en:\n            patterns.append({\n\
          \                \"pattern\": pattern,\n                \"category\": \"\
          connection_error\",\n                \"source\": \"external\",\n       \
          \         \"language\": \"english\",\n                \"case_sensitive\"\
          : False,\n                \"description\": \"Connection related errors -\
          \ external\"\n            })\n        \n        # ËøûÊé•ÈîôËØØ - ‰∏≠Êñá (Â§ñÈÉ®ÈóÆÈ¢ò)\n   \
          \     connection_patterns_cn = [\n            r\"ËøûÊé•Ë¢´ÊãíÁªù\",\n            r\"\
          ËøûÊé•Â§±Ë¥•\",\n            r\"ËøûÊé•Ë∂ÖÊó∂\",\n            r\"ËøûÊé•Ë¢´ÈáçÁΩÆ\",\n            r\"\
          ËøûÊé•‰∏≠Êñ≠\",\n            r\"Êó†Ê≥ïËøûÊé•\",\n            r\"ÊãíÁªùËøûÊé•\",\n            r\"\
          ÁΩëÁªú‰∏çÂèØËææ\",\n            r\"‰∏ªÊú∫‰∏çÂèØËææ\",\n        ]\n        \n        for pattern\
          \ in connection_patterns_cn:\n            patterns.append({\n          \
          \      \"pattern\": pattern,\n                \"category\": \"connection_error\"\
          ,\n                \"source\": \"external\",\n                \"language\"\
          : \"chinese\",\n                \"case_sensitive\": False,\n           \
          \     \"description\": \"Connection related errors in Chinese - external\"\
          \n            })\n        \n        # Ë∂ÖÊó∂ÈîôËØØ (Ê∑∑ÂêàÈóÆÈ¢ò - ÂèØËÉΩÊòØÂÜÖÈÉ®‰πüÂèØËÉΩÊòØÂ§ñÈÉ®)\n      \
          \  timeout_patterns = [\n            r\"timeout\",\n            r\"timed\\\
          s+out\",\n            r\"time\\s+out\",\n            r\"Ë∂ÖÊó∂\",\n        \
          \    r\"ËØ∑Ê±ÇË∂ÖÊó∂\",\n            r\"ÂìçÂ∫îË∂ÖÊó∂\",\n            r\"read\\s+timeout\"\
          ,\n            r\"write\\s+timeout\",\n            r\"connect\\s+timeout\"\
          ,\n            r\"socket\\s+timeout\",\n            r\"request\\s+timeout\"\
          ,\n            r\"response\\s+timeout\",\n            r\"execution\\s+timeout\"\
          ,\n            r\"operation\\s+timeout\",\n        ]\n        \n       \
          \ for pattern in timeout_patterns:\n            patterns.append({\n    \
          \            \"pattern\": pattern,\n                \"category\": \"timeout_error\"\
          ,\n                \"source\": \"mixed\",\n                \"language\"\
          : \"general\",\n                \"case_sensitive\": False,\n           \
          \     \"description\": \"Timeout related errors - mixed source\"\n     \
          \       })\n        \n        # ÊúçÂä°‰∏çÂèØÁî®ÈîôËØØ (Â§ñÈÉ®ÈóÆÈ¢ò)\n        unavailable_patterns\
          \ = [\n            r\"service\\s+unavailable\",\n            r\"server\\\
          s+unavailable\",\n            r\"unavailable\",\n            r\"not\\s+available\"\
          ,\n            r\"ÊúçÂä°‰∏çÂèØÁî®\",\n            r\"ÊúçÂä°Âô®‰∏çÂèØÁî®\",\n            r\"ÊöÇÊó∂‰∏çÂèØÁî®\"\
          ,\n            r\"temporary\\s+unavailable\",\n            r\"temporarily\\\
          s+unavailable\",\n            r\"503\\s+service\\s+unavailable\",\n    \
          \        r\"backend\\s+unavailable\",\n            r\"upstream\\s+unavailable\"\
          ,\n        ]\n        \n        for pattern in unavailable_patterns:\n \
          \           patterns.append({\n                \"pattern\": pattern,\n \
          \               \"category\": \"unavailable_error\",\n                \"\
          source\": \"external\",\n                \"language\": \"general\",\n  \
          \              \"case_sensitive\": False,\n                \"description\"\
          : \"Service unavailable errors - external\"\n            })\n        \n\
          \        # PanicÈîôËØØ (ÂÜÖÈÉ®ÈóÆÈ¢ò)\n        panic_patterns = [\n            r\"panic:\"\
          ,\n            r\"panic\\s+error\",\n            r\"fatal\\s+error\",\n\
          \            r\"critical\\s+error\",\n            r\"‰∏•ÈáçÈîôËØØ\",\n         \
          \   r\"Ëá¥ÂëΩÈîôËØØ\",\n            r\"Â¥©Ê∫É\",\n            r\"crash\",\n        \
          \    r\"segmentation\\s+fault\",\n            r\"stack\\s+overflow\",\n\
          \            r\"out\\s+of\\s+memory\",\n            r\"ÂÜÖÂ≠ò‰∏çË∂≥\",\n       \
          \     r\"Ê†àÊ∫¢Âá∫\",\n        ]\n        \n        for pattern in panic_patterns:\n\
          \            patterns.append({\n                \"pattern\": pattern,\n\
          \                \"category\": \"panic_error\",\n                \"source\"\
          : \"internal\",\n                \"language\": \"general\",\n          \
          \      \"case_sensitive\": False,\n                \"description\": \"Panic\
          \ and critical errors - internal\"\n            })\n        \n        #\
          \ HTTPÈîôËØØ (Ê∑∑ÂêàÈóÆÈ¢ò)\n        http_patterns = [\n            r\"5\\d{2}\\s+\\\
          w+\",  # 5xx errors\n            r\"502\\s+bad\\s+gateway\",\n         \
          \   r\"503\\s+service\\s+unavailable\",\n            r\"504\\s+gateway\\\
          s+timeout\",\n            r\"500\\s+internal\\s+server\\s+error\",\n   \
          \         r\"bad\\s+gateway\",\n            r\"gateway\\s+timeout\",\n \
          \           r\"internal\\s+server\\s+error\",\n            r\"ÁΩëÂÖ≥ÈîôËØØ\",\n\
          \            r\"ÂÜÖÈÉ®ÊúçÂä°Âô®ÈîôËØØ\",\n        ]\n        \n        for pattern in\
          \ http_patterns:\n            # Ê†πÊçÆÂÖ∑‰ΩìÈîôËØØÁ†ÅÂà§Êñ≠Êù•Ê∫ê\n            if any(code in\
          \ pattern for code in [\"500\", \"internal\"]):\n                source\
          \ = \"internal\"\n            elif any(code in pattern for code in [\"502\"\
          , \"503\", \"504\", \"gateway\"]):\n                source = \"external\"\
          \n            else:\n                source = \"mixed\"\n              \
          \  \n            patterns.append({\n                \"pattern\": pattern,\n\
          \                \"category\": \"http_error\",\n                \"source\"\
          : source,\n                \"language\": \"general\",\n                \"\
          case_sensitive\": False,\n                \"description\": \"HTTP error\
          \ codes and messages\"\n            })\n        \n        # ÁΩëÁªúÈîôËØØ (Â§ñÈÉ®ÈóÆÈ¢ò)\n\
          \        network_patterns = [\n            r\"network\\s+error\",\n    \
          \        r\"network\\s+is\\s+unreachable\",\n            r\"dns\\s+resolution\\\
          s+failed\",\n            r\"name\\s+resolution\\s+failed\",\n          \
          \  r\"ÁΩëÁªúÈîôËØØ\",\n            r\"ÁΩëÁªú‰∏çÂèØËææ\",\n            r\"dnsËß£ÊûêÂ§±Ë¥•\",\n    \
          \        r\"ÂüüÂêçËß£ÊûêÂ§±Ë¥•\",\n            r\"socket\\s+error\",\n            r\"\
          tcp\\s+error\",\n            r\"udp\\s+error\",\n        ]\n        \n \
          \       for pattern in network_patterns:\n            patterns.append({\n\
          \                \"pattern\": pattern,\n                \"category\": \"\
          network_error\",\n                \"source\": \"external\",\n          \
          \      \"language\": \"general\",\n                \"case_sensitive\": False,\n\
          \                \"description\": \"Network related errors - external\"\n\
          \            })\n        \n        # Êï∞ÊçÆÂ∫ìÈîôËØØ (Ê∑∑ÂêàÈóÆÈ¢ò)\n        database_patterns\
          \ = [\n            r\"database\\s+connection\\s+failed\",\n            r\"\
          database\\s+unavailable\",\n            r\"database\\s+timeout\",\n    \
          \        r\"sql\\s+error\",\n            r\"database\\s+error\",\n     \
          \       r\"Êï∞ÊçÆÂ∫ìËøûÊé•Â§±Ë¥•\",\n            r\"Êï∞ÊçÆÂ∫ì‰∏çÂèØÁî®\",\n            r\"Êï∞ÊçÆÂ∫ìË∂ÖÊó∂\"\
          ,\n            r\"sqlÈîôËØØ\",\n            r\"connection\\s+pool\\s+exhausted\"\
          ,\n            r\"too\\s+many\\s+connections\",\n            r\"max\\s+connections\\\
          s+reached\",\n        ]\n        \n        for pattern in database_patterns:\n\
          \            patterns.append({\n                \"pattern\": pattern,\n\
          \                \"category\": \"database_error\",\n                \"source\"\
          : \"mixed\",\n                \"language\": \"general\",\n             \
          \   \"case_sensitive\": False,\n                \"description\": \"Database\
          \ related errors - mixed source\"\n            })\n        \n        # ËµÑÊ∫êÈîôËØØ\
          \ (ÂÜÖÈÉ®ÈóÆÈ¢ò)\n        resource_patterns = [\n            r\"out\\s+of\\s+memory\"\
          ,\n            r\"memory\\s+exhausted\",\n            r\"disk\\s+full\"\
          ,\n            r\"no\\s+space\\s+left\",\n            r\"resource\\s+exhausted\"\
          ,\n            r\"ÂÜÖÂ≠ò‰∏çË∂≥\",\n            r\"Á£ÅÁõòÁ©∫Èó¥‰∏çË∂≥\",\n            r\"ËµÑÊ∫êËÄóÂ∞Ω\"\
          ,\n            r\"cpu\\s+limit\\s+exceeded\",\n            r\"memory\\s+limit\\\
          s+exceeded\",\n        ]\n        \n        for pattern in resource_patterns:\n\
          \            patterns.append({\n                \"pattern\": pattern,\n\
          \                \"category\": \"resource_error\",\n                \"source\"\
          : \"internal\",\n                \"language\": \"general\",\n          \
          \      \"case_sensitive\": False,\n                \"description\": \"Resource\
          \ exhaustion errors - internal\"\n            })\n        \n        # ËÆ§ËØÅÈîôËØØ\
          \ (Ê∑∑ÂêàÈóÆÈ¢ò)\n        auth_patterns = [\n            r\"authentication\\s+failed\"\
          ,\n            r\"authorization\\s+failed\",\n            r\"access\\s+denied\"\
          ,\n            r\"permission\\s+denied\",\n            r\"unauthorized\"\
          ,\n            r\"forbidden\",\n            r\"ËÆ§ËØÅÂ§±Ë¥•\",\n            r\"\
          ÊéàÊùÉÂ§±Ë¥•\",\n            r\"ËÆøÈóÆË¢´ÊãíÁªù\",\n            r\"ÊùÉÈôê‰∏çË∂≥\",\n            r\"\
          401\\s+unauthorized\",\n            r\"403\\s+forbidden\",\n        ]\n\
          \        \n        for pattern in auth_patterns:\n            patterns.append({\n\
          \                \"pattern\": pattern,\n                \"category\": \"\
          auth_error\",\n                \"source\": \"mixed\",\n                \"\
          language\": \"general\",\n                \"case_sensitive\": False,\n \
          \               \"description\": \"Authentication and authorization errors\
          \ - mixed source\"\n            })\n        \n        # ÈÄöÁî®ÈîôËØØÊ®°ÂºèÔºàËã±Êñá/Êï∞Â≠óÔºâ\n\
          \        generic_error_patterns = [\n            r\"ERROR\",\n         \
          \   r\"ERR\",\n            r\"EXCEPTION\",\n            r\"PANIC\",\n  \
          \          r\"FAIL(?:ED)?\",\n            r\"WRONG\",\n            r\"FATAL\"\
          ,\n            r\"CRITICAL\",\n            r\"BUG\",\n            r\"CRASH(?:ED)?\"\
          ,\n            r\"INTERNAL\\s+ERROR\",\n            r\"NOT\\s+WORKING\"\
          ,\n            r\"BROKEN\",\n            r\"5\\d{2}\",  # HTTP 5xx ÈîôËØØÁ†Å\n\
          \            r\"4\\d{2}\",  # HTTP 4xx ÈîôËØØÁ†Å\n        ]\n\n        for pattern\
          \ in generic_error_patterns:\n            patterns.append({\n          \
          \      \"pattern\": pattern,\n                \"category\": \"generic_error\"\
          ,\n                \"source\": \"unknown\",\n                \"language\"\
          : \"english\",\n                \"case_sensitive\": False,\n           \
          \     \"description\": \"Generic catch-all English error patterns\"\n  \
          \          })\n\n        # ÈÄöÁî®ÈîôËØØÊ®°ÂºèÔºà‰∏≠ÊñáÔºâ\n        generic_error_patterns_cn\
          \ = [\n            r\"ÈîôËØØ\",           # e.g., Á≥ªÁªüÈîôËØØ\n            r\"Â§±Ë¥•\"\
          ,           # e.g., Êìç‰ΩúÂ§±Ë¥•\n            r\"ÂºÇÂ∏∏\",           # e.g., Á®ãÂ∫èÂºÇÂ∏∏\n\
          \            r\"Â¥©Ê∫É\",           # e.g., Á≥ªÁªüÂ¥©Ê∫É\n            r\"Ëá¥ÂëΩ\",     \
          \      # e.g., Ëá¥ÂëΩÈîôËØØ\n            r\"ÊãíÁªù\",           # e.g., ÊãíÁªùËÆøÈóÆ\n     \
          \       r\"Êó†Êïà\",           # e.g., Êó†ÊïàÂèÇÊï∞\n            r\"Êú™Áü•ÈîôËØØ\",       #\
          \ e.g., Êú™Áü•ÈîôËØØ\n            r\"Êú™ÂÆö‰πâ\",         # e.g., Ë∞ÉÁî®Êú™ÂÆö‰πâ\n        ]\n\n\
          \        for pattern in generic_error_patterns_cn:\n            patterns.append({\n\
          \                \"pattern\": pattern,\n                \"category\": \"\
          generic_error\",\n                \"source\": \"unknown\",\n           \
          \     \"language\": \"chinese\",\n                \"case_sensitive\": False,\n\
          \                \"description\": \"Generic catch-all Chinese error patterns\"\
          \n            })  \n\n        return patterns\n\n    \n    def _compile_patterns(self)\
          \ -> Dict[str, List[Tuple[re.Pattern, Dict]]]:\n        \"\"\"ÁºñËØëÊ≠£ÂàôË°®ËææÂºèÊ®°Âºè\"\
          \"\"\n        compiled = {}\n        \n        for pattern_obj in self.patterns:\n\
          \            category = pattern_obj[\"category\"]\n            if category\
          \ not in compiled:\n                compiled[category] = []\n          \
          \  \n            flags = re.IGNORECASE if not pattern_obj[\"case_sensitive\"\
          ] else 0\n            regex = re.compile(pattern_obj[\"pattern\"], flags)\n\
          \            compiled[category].append((regex, pattern_obj))\n        \n\
          \        return compiled\n    \n    def detect_line(self, line: str, line_number:\
          \ int = 0) -> bool:\n        \"\"\"Ê£ÄÊµãÂçïË°åÊó•Âøó\"\"\"        \n        for category,\
          \ pattern_list in self.compiled_patterns.items():\n            for regex,\
          \ pattern_obj in pattern_list:\n                if regex.search(line):\n\
          \                   return True\n        \n        return False\n    \n\
          \    def detect_logs(self, logs: List[str]) -> List[Dict]:\n        \"\"\
          \"Ê£ÄÊµãÂ§öË°åÊó•Âøó\"\"\"\n        all_matches = []\n        \n        for i, log in\
          \ enumerate(logs):\n            line = log[\"body\"]\n            if self.detect_line(line,\
          \ i + 1):\n                all_matches.append(log)\n        \n        return\
          \ all_matches\n    \n    def _calculate_confidence(self, line: str, pattern:\
          \ Dict) -> float:\n        \"\"\"ËÆ°ÁÆóÂåπÈÖçÁΩÆ‰ø°Â∫¶\"\"\"\n        base_confidence\
          \ = 1.0\n        \n        # Ê†πÊçÆ‰∏ä‰∏ãÊñáÂÖ≥ÈîÆËØçË∞ÉÊï¥ÁΩÆ‰ø°Â∫¶\n        context_keywords = {\n\
          \            \"error\": 0.1,\n            \"failed\": 0.1,\n           \
          \ \"exception\": 0.1,\n            \"ÈîôËØØ\": 0.1,\n            \"Â§±Ë¥•\": 0.1,\n\
          \            \"ÂºÇÂ∏∏\": 0.1,\n        }\n        \n        line_lower = line.lower()\n\
          \        for keyword, boost in context_keywords.items():\n            if\
          \ keyword in line_lower:\n                base_confidence += boost\n   \
          \     \n        return min(base_confidence, 2.0)  # ÊúÄÂ§ßÁΩÆ‰ø°Â∫¶2.0\n    \n   \
          \ def get_statistics(self, matches: List[Dict]) -> Dict:\n        \"\"\"\
          Ëé∑ÂèñÊ£ÄÊµãÁªüËÆ°‰ø°ÊÅØ\"\"\"\n        if not matches:\n            return {\"total\":\
          \ 0, \"by_category\": {}, \"by_language\": {}, \"by_source\": {}}\n    \
          \    \n        stats = {\n            \"total\": len(matches),\n       \
          \     \"by_category\": {},\n            \"by_language\": {},\n         \
          \   \"by_source\": {}\n        }\n        \n        for match in matches:\n\
          \            # ÊåâÁ±ªÂà´ÁªüËÆ°\n            category = match[\"category\"]\n     \
          \       stats[\"by_category\"][category] = stats[\"by_category\"].get(category,\
          \ 0) + 1\n            \n            # ÊåâËØ≠Ë®ÄÁªüËÆ°\n            language = match[\"\
          language\"]\n            stats[\"by_language\"][language] = stats[\"by_language\"\
          ].get(language, 0) + 1\n            \n            # ÊåâÈîôËØØÊù•Ê∫êÁªüËÆ°\n          \
          \  source = match[\"source\"]\n            stats[\"by_source\"][source]\
          \ = stats[\"by_source\"].get(source, 0) + 1\n        \n        return stats\n\
          \    \n    def format_results(self, matches: List[Dict], show_details: bool\
          \ = True, group_by: str = \"category\") -> str:\n        \"\"\"\n      \
          \  Ê†ºÂºèÂåñÊ£ÄÊµãÁªìÊûú\n        \n        Args:\n            matches: ÂåπÈÖçÁªìÊûúÂàóË°®\n     \
          \       show_details: ÊòØÂê¶ÊòæÁ§∫ËØ¶ÁªÜ‰ø°ÊÅØ\n            group_by: ÂàÜÁªÑÊñπÂºè (\"category\"\
          , \"source\")\n        \"\"\"\n        if not matches:\n            return\
          \ \"Êú™Ê£ÄÊµãÂà∞ÊúçÂä°‰∏çÂèØÁî®Áõ∏ÂÖ≥Êó•Âøó\"\n        \n        result = f\"Ê£ÄÊµãÂà∞ {len(matches)} Êù°ÊúçÂä°‰∏çÂèØÁî®Áõ∏ÂÖ≥Êó•Âøó:\\\
          n\\n\"\n        \n        if group_by == \"source\":\n            # ÊåâÈîôËØØÊù•Ê∫êÂàÜÁªÑÊòæÁ§∫\n\
          \            by_source = {}\n            for match in matches:\n       \
          \         source = match[\"source\"]\n                if source not in by_source:\n\
          \                    by_source[source] = []\n                by_source[source].append(match)\n\
          \            \n            # ÂÆö‰πâÊù•Ê∫êÊòæÁ§∫ÂêçÁß∞\n            source_names = {\n  \
          \              \"internal\": \"ÂÜÖÈÉ®ÈóÆÈ¢ò (Ëá™Ë∫´ÊúçÂä°)\",\n                \"external\"\
          : \"Â§ñÈÉ®ÈóÆÈ¢ò (‰æùËµñÊúçÂä°)\",\n                \"mixed\": \"Ê∑∑ÂêàÈóÆÈ¢ò (ÈúÄËøõ‰∏ÄÊ≠•Âà§Êñ≠)\"\n     \
          \       }\n            \n            for source, source_matches in by_source.items():\n\
          \                source_name = source_names.get(source, source)\n      \
          \          result += f\"=== {source_name} ({len(source_matches)} Êù°) ===\\\
          n\"\n                \n                if show_details:\n              \
          \      for match in source_matches:\n                        result += f\"\
          \  Êó•ÂøóÂÜÖÂÆπ: {match['content']}\\n\"\n                        result += f\"\
          \  ÈîôËØØÁ±ªÂûã: {match['category']}\\n\"\n                else:\n             \
          \       result += f\"  ÂåÖÂê´ {len(source_matches)} Êù°Áõ∏ÂÖ≥Êó•Âøó\\n\\n\"\n        \n\
          \        else:\n            # ÊåâÁ±ªÂà´ÂàÜÁªÑÊòæÁ§∫\n            by_category = {}\n  \
          \          for match in matches:\n                category = match[\"category\"\
          ]\n                if category not in by_category:\n                   \
          \ by_category[category] = []\n                by_category[category].append(match)\n\
          \            \n            for category, category_matches in by_category.items():\n\
          \                result += f\"=== {category.upper()} ({len(category_matches)}\
          \ Êù°) ===\\n\"\n                \n                if show_details:\n    \
          \                for match in category_matches:\n                      \
          \  result += f\"  Êó•ÂøóÂÜÖÂÆπ: {match['line_number']}: {match['content']}\\n\"\n\
          \                        result += f\"  ÈîôËØØÊù•Ê∫ê: {match['source']}\\n\"\n \
          \               else:\n                    result += f\"  ÂåÖÂê´ {len(category_matches)}\
          \ Êù°Áõ∏ÂÖ≥Êó•Âøó\\n\\n\"\n        return result\n\ndef main(log_json: str):\n   \
          \ logs = json.loads(log_json).get(\"data\", {}).get(\"logContents\", {}).get(\"\
          contents\", [])\n    detector = ServiceUnavailableDetector()\n    matches\
          \ = detector.detect_logs(logs)\n    matches = matches[:30]\n    return {\"\
          result\": json.dumps({\"logs\": matches})}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÈîôËØØÊó•Âøó
        type: code
        variables:
        - value_selector:
          - '1744878296971'
          - text
          variable: log_json
      height: 54
      id: '1744901266309'
      position:
        x: 6168
        y: 1076
      positionAbsolute:
        x: 6168
        y: 1076
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1745313576757'
          - output
          variable: output
        selected: false
        title: ÁªìÊùü
        type: end
      height: 90
      id: '1745313574375'
      position:
        x: 2158
        y: 386
      positionAbsolute:
        x: 2158
        y: 386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        selected: false
        template: ÊöÇ‰∏çÊîØÊåÅÁöÑÂëäË≠¶Á±ªÂûãÔºö{{ alertName }}
        title: ‰∏çÊîØÊåÅÁöÑÂëäË≠¶Á±ªÂûã
        type: template-transform
        variables:
        - value_selector:
          - '1742807803325'
          - alertName
          variable: alertName
      height: 54
      id: '1745313576757'
      position:
        x: 1854
        y: 386
      positionAbsolute:
        x: 1854
        y: 386
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: reportType
            ja_JP: reportType
            pt_BR: reportType
            zh_Hans: Êä•ÂëäÁ±ªÂûã
          label:
            en_US: reportType
            ja_JP: reportType
            pt_BR: reportType
            zh_Hans: Êä•ÂëäÁ±ªÂûã
          llm_description: alert report type
          max: null
          min: null
          name: reportType
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: reportType
            ja_JP: reportType
            pt_BR: tags
            zh_Hans: Êä•ÂëäÊ†áÁ≠æÔºàÁî®‰∫éÊ£ÄÁ¥¢Ôºâ
          label:
            en_US: tags
            ja_JP: tags
            pt_BR: tags
            zh_Hans: Êä•ÂëäÊ†áÁ≠æÔºàÁî®‰∫éÊ£ÄÁ¥¢Ôºâ
          llm_description: alert report tags
          max: null
          min: null
          name: tags
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: overview
            ja_JP: overview
            pt_BR: overview
            zh_Hans: ÂëäË≠¶‰∫ã‰ª∂ÊÄªËßà
          label:
            en_US: overview
            ja_JP: overview
            pt_BR: overview
            zh_Hans: ÂëäË≠¶‰∫ã‰ª∂ÊÄªËßà
          llm_description: overview
          max: null
          min: null
          name: overview
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: topology
            ja_JP: topology
            pt_BR: topology
            zh_Hans: Êä•ÂëäÁ±ªÂûã
          label:
            en_US: topology
            ja_JP: topology
            pt_BR: topology
            zh_Hans: ÊãìÊâëÊï∞ÊçÆ
          llm_description: topology data
          max: null
          min: null
          name: topology
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: rootCauseAnalysis
            ja_JP: rootCauseAnalysis
            pt_BR: rootCauseAnalysis
            zh_Hans: Ê†πÂõ†ÂàÜÊûêÁªìËÆ∫
          label:
            en_US: rootCauseAnalysis
            ja_JP: rootCauseAnalysis
            pt_BR: rootCauseAnalysis
            zh_Hans: Ê†πÂõ†ÂàÜÊûêÁªìËÆ∫
          llm_description: rootCauseAnalysis
          max: null
          min: null
          name: rootCauseAnalysis
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: suggest
            ja_JP: suggest
            pt_BR: suggest
            zh_Hans: ÂèØË°åÂä®ÊñπÂêëÂª∫ËÆÆ
          label:
            en_US: suggest
            ja_JP: suggest
            pt_BR: suggest
            zh_Hans: ÂèØË°åÂä®ÊñπÂêëÂª∫ËÆÆ
          llm_description: suggest
          max: null
          min: null
          name: suggest
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: evidence
            ja_JP: evidence
            pt_BR: evidence
            zh_Hans: Ê†πÂõ†ÂàÜÊûêÁªìËÆ∫
          label:
            en_US: evidence
            ja_JP: evidence
            pt_BR: evidence
            zh_Hans: È™åËØÅÊï∞ÊçÆ
          llm_description: evidence
          max: null
          min: null
          name: evidence
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          evidence: ''
          overview: ''
          reportType: ''
          rootCauseAnalysis: ''
          suggest: ''
          tags: ''
          topology: ''
        provider_id: apo_analysis
        provider_name: apo_analysis
        provider_type: builtin
        selected: false
        title: ÁîüÊàêÂëäË≠¶ÂàÜÊûêÊä•Âëä
        tool_configurations: {}
        tool_label: ÁîüÊàêÂëäË≠¶ÂàÜÊûêÊä•Âëä
        tool_name: Generate alert analysis report
        tool_parameters:
          evidence:
            type: mixed
            value: '{{#1750843294839.result#}}'
          overview:
            type: mixed
            value: '{{#1750840042580.result#}}'
          reportType:
            type: mixed
            value: error
          rootCauseAnalysis:
            type: mixed
            value: '{{#1750843945254.result#}}'
          suggest:
            type: mixed
            value: '{{#1750843922551.result#}}'
          tags:
            type: mixed
            value: '{{#1750839702220.result#}}'
          topology:
            type: mixed
            value: '{{#1750941439700.result#}}'
        type: tool
      height: 54
      id: '1750839691646'
      position:
        x: 9734
        y: 963
      positionAbsolute:
        x: 9734
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\n\ndef main(alertEventId: str) -> dict:\n    data = {\n        \"\
          alertEventId\": alertEventId\n    }\n    return {\n        \"result\": json.dumps(data),\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Êä•ÂëäÊ†áÁ≠æ
        type: code
        variables:
        - value_selector:
          - '1742807803325'
          - alertEventId
          variable: alertEventId
      height: 54
      id: '1750839702220'
      position:
        x: 9430
        y: 628
      positionAbsolute:
        x: 9430
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\n\ndef main(timestamp: int, reason: str, pod: str, node: str, pid:\
          \ str, containerId: str, service: str, detail: str) -> dict:\n    data =\
          \ {\n        \"timestamp\": timestamp,\n        \"detail\": detail,\n  \
          \      \"reason\": reason,\n        \"tags\": {\n            \"service\"\
          : service,\n            \"pod\": pod,\n            \"nodeName\": node,\n\
          \            \"pid\": pid,\n            \"containerId\": containerId\n \
          \       }\n    }\n    return {\n        \"result\": json.dumps(data),\n\
          \    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Êä•ÂëäÊÄªËßà
        type: code
        variables:
        - value_selector:
          - '1741227526517'
          - endTime
          variable: timestamp
        - value_selector:
          - '1750840340832'
          - text
          variable: reason
        - value_selector:
          - '1742807803325'
          - pod
          variable: pod
        - value_selector:
          - '1741227526517'
          - nodeName
          variable: node
        - value_selector:
          - '1742807803325'
          - pid
          variable: pid
        - value_selector:
          - '1742807803325'
          - containerId
          variable: containerId
        - value_selector:
          - '1742807803325'
          - service
          variable: service
        - value_selector:
          - '1750987639392'
          - text
          variable: detail
      height: 54
      id: '1750840042580'
      position:
        x: 9430
        y: 833
      positionAbsolute:
        x: 9430
        y: 833
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: d21add02-97db-4fa3-a6e8-d4387617ce2a
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰∏™ÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÁöÑÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑Ëß£ÂÜ≥ÈóÆÈ¢ò
        - id: 4ca361b5-08c7-461e-b239-648db7bd6815
          role: user
          text: '#ÁõÆÁöÑ

            Ê†πÊçÆÂ∫îÁî®ÁöÑÁªìËÆ∫ÁîüÊàêÊ†πÂõ†ÊñπÂêëÁöÑÁªìËÆ∫

            #ÁªìËÆ∫Êï∞ÊçÆ

            {{#1744878466157.output#}}

            # ÂèóÂΩ±ÂìçÊúçÂä°

            {{#1753760065732.output#}}ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÂàôÂøΩÁï•ËøôÈÉ®ÂàÜÔºåÊó†ÈúÄÊèêÁ§∫Áî®Êà∑Êï∞ÊçÆ‰∏∫Á©∫„ÄÇ

            # Êó∂Èó¥

            {{#1741227526517.endTime#}}

            #Ê†ºÂºèÊ®°ÁâàÂèÇËÄÉ

            ÂëäË≠¶‰∫ã‰ª∂ÁªìËÆ∫

            **‰∫ã‰ª∂Ê¶ÇËø∞**Ôºö


            üö® Êó•ÂøóÈîôËØØÁéáÂçáÈ´òÔºöÂëäË≠¶ÊòæÁ§∫xxÊúçÂä°ÁöÑÊó•ÂøóÈîôËØØÊï∞/ËØ∑Ê±ÇÈîôËØØÁéáË∂ÖËøá20%„ÄÇ


            üö¶ÂèóÂΩ±ÂìçÊúçÂä°ÔºöÁÆÄÂçïÊèèËø∞ÂèóÂΩ±ÂìçÁöÑÊúçÂä°ÔºåÂ¶ÇÊûúÊ≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÊàñËÄÖÊ≤°ÊúâÂèóÂΩ±ÂìçÊúçÂä°Âàô‰∏çÈúÄË¶ÅËæìÂá∫ËøôÈÉ®ÂàÜ„ÄÇxxÊúçÂä°ÊàêÂäüÁéá‰∏ãÈôç‰∫ÜxxÔºåxxÊúçÂä°ËØ∑Ê±ÇÈáè‰∏ãÈôç‰∫ÜxxÔºåÈìæË∑Ø‰∏≠ÁöÑxxÂá∫Áé∞ÈîôËØØ„ÄÇ


            üóÇÔ∏è ÂºÇÂ∏∏Êó•ÂøóÔºöÂÖ±128‰∏™„ÄÇ

            **ÈóÆÈ¢òÂàÜÊûê**


            üïí Êó•ÂøóÊòæÁ§∫xxx

            üåê ÊòæÁ§∫xxxÂèØËÉΩÂ≠òÂú®xxxx

            **Ëß£ÂÜ≥Êé™ÊñΩ**Ôºö


            üõ†Ô∏è ÊâßË°åxxx

            üîß Ê£ÄÊü•xxx

            **Êó•ÂøóÊï∞ÊçÆ**Ôºö


            ‚è±Ô∏è xxÂºÇÂ∏∏

            #ËæìÂá∫Ê†ºÂºè

            Ê†ºÂºèÂèÇËÄÉÊ®°ÁâàÔºåÊ≥®ÊÑèÊç¢Ë°åÂíåÁ©∫Ê†ºÔºåÁ°Æ‰øùÊñáÊú¨ÁæéËßÇËæìÂá∫ÔºåÁÆÄÂçïÊòìÊáÇ(‰ΩøÁî®MarkDownÊ†ºÂºèÁöÑÊñáÊú¨)Ôºå‰∏î‰∏çË¶ÅÊúâÂÖ∂‰ªñËæìÂá∫'
        selected: false
        title: Ê†ºÂºèÂåñÁªìËÆ∫
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1750840340832'
      position:
        x: 9126
        y: 833
      positionAbsolute:
        x: 9126
        y: 833
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\n\ndef main(logs: str, log_text: str) -> dict:\n    logs_raw = json.loads(logs)\n\
          \    logs_data = {\n        \"type\": \"log\",\n        \"name\": \"Â∫îÁî®Êó•Âøó\"\
          ,\n        \"description\": log_text,\n        \"data\": logs_raw.get(\"\
          logs\", [])\n    }\n\n    return {\n        \"result\": json.dumps({\n \
          \           \"evidence\": [logs_data]\n        }),\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Ê±áÊÄªÈ™åËØÅÊï∞ÊçÆ
        type: code
        variables:
        - value_selector:
          - '1750844540721'
          - output
          variable: logs
        - value_selector:
          - '1751251291730'
          - text
          variable: log_text
      height: 54
      id: '1750843294839'
      position:
        x: 9430
        y: 963
      positionAbsolute:
        x: 9430
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(raw_data: str) -> dict:\n    pattern = r'```json\\\
          n(.*?)\\n```'\n    match = re.search(pattern, raw_data, re.DOTALL)\n\n \
          \   json_str = match.group(1)\n    rootcause = json.loads(json_str)\n  \
          \  return {\n        \"result\": json.dumps(rootcause),\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ÂèØË°åÂä®ÊñπÂêëÂª∫ËÆÆ
        type: code
        variables:
        - value_selector:
          - '1750846397041'
          - text
          variable: raw_data
      height: 54
      id: '1750843922551'
      position:
        x: 9430
        y: 1093
      positionAbsolute:
        x: 9430
        y: 1093
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(raw_data: str) -> dict:\n    pattern = r'```json\\\
          n(.*?)\\n```'\n    match = re.search(pattern, raw_data, re.DOTALL)\n\n \
          \   json_str = match.group(1)\n    rootcause = json.loads(json_str)\n  \
          \  return {\n        \"result\": json.dumps(rootcause),\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Ê†πÂõ†ÊñπÂêë
        type: code
        variables:
        - value_selector:
          - '1750846407202'
          - text
          variable: raw_data
      height: 54
      id: '1750843945254'
      position:
        x: 9430
        y: 1223
      positionAbsolute:
        x: 9430
        y: 1223
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: ËÅöÂêàÊü•ËØ¢Êó•Âøó
        type: variable-aggregator
        variables:
        - - '1744901266309'
          - result
        - - '1753687345334'
          - error_logs_str
      height: 131
      id: '1750844540721'
      position:
        x: 7606
        y: 628
      positionAbsolute:
        x: 7606
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 7694ae43-c744-4e62-9a51-fb4b8d8fe597
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰∏™ÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÁöÑÊô∫ËÉΩÂä©Êâã
        - id: eaa0bed8-46a2-4c25-aca9-83d0f1105263
          role: user
          text: "#ÁõÆÁöÑ\nÁîüÊàêÂª∫ËÆÆÁî®Êà∑ÁöÑË°åÂä®Âª∫ËÆÆ\nÂ¶ÇÊâßË°åÂëΩ‰ª§ÔºåÊàñËÄÖÊâæxxxÊéíÈô§ÈóÆÈ¢òÔºåÂøÖÈ°ªÂíåÊïÖÈöúÊñπÂêëÊúâÂÖ≥ÔºåÈÅøÂÖçÁªôÂá∫Â¶Ç‚ÄúÂª∫ËÆÆÊéíÊü•ÂÜÖÈÉ®ÈîôËØØ‚ÄùÁ±ª‰ººÁöÑËøá‰∫éÂÆΩÊ≥õÁöÑÈîôËØØ„ÄÇ\n\
            #ÁªìËÆ∫Êï∞ÊçÆ\n{{#1744878466157.output#}}\n\n#Ê†ºÂºèÊ®°Áâà\n```json\n{\"suggest\": [\n\
            \        {\n            \"action\": \"Add index to payment transaction\
            \ table.\",\n            \"level\": \"high\"\n        },\n        {\n\
            \            \"action\": \"Scale up database node CPU resources.\",\n\
            \            \"level\": \"medium\"\n        }\n    ] }\n```\n#ËæìÂá∫Ê†ºÂºè\njsonÊ†ºÂºèÊï∞ÊçÆÔºåÊ†ºÂºèÂèÇÊï∞Ê®°ÁâàÔºå‰∏çË¶ÅÊúâÂÖ∂‰ªñËæìÂá∫"
        selected: false
        title: ÂèØË°åÂä®ÊñπÂêëÂª∫ËÆÆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1750846397041'
      position:
        x: 9126
        y: 1093
      positionAbsolute:
        x: 9126
        y: 1093
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 0e0b95f4-141c-413e-8a29-1b17b745495f
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰∏™ÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÁöÑÊô∫ËÉΩÂä©Êâã
        - id: 954478ee-4fa8-4750-9abf-14abf2e75271
          role: user
          text: "#ÁõÆÁöÑ\nÊ†πÊçÆÂ∫îÁî®ÁöÑÊó•ÂøóÁªìËÆ∫ÁîüÊàêÊó•ÂøóÊ†πÂõ†ÊñπÂêëÁöÑÁªìËÆ∫\n#ÁªìËÆ∫Êï∞ÊçÆ\n{{#1744878466157.output#}}\n# Ê≥®ÊÑè\n\
            type‰∏∫ÊïÖÈöúÊñπÂêë\n1. Á¨¨‰∏âÊñπ‰æùËµñÔºåÂ¶ÇË∞ÉÁî®Êï∞ÊçÆ„ÄÅÁ¨¨‰∏âÊñπAPIÂá∫ÈîôÔºàtype:thirdpartyÔºâÔºõÈÖçÁΩÆÈóÆÈ¢òÔºåÂ¶ÇËé∑ÂèñÈÖçÁΩÆÊñá‰ª∂Â§±Ë¥•„ÄÅÈìæÊé•Êï∞ÊçÆÂ∫ìÂ§±Ë¥•(type:config)Ôºõ‰ª£Á†ÅÂºÇÂ∏∏ÔºåÂ¶ÇÊú™ÊçïËé∑ÁöÑÂºÇÂ∏∏„ÄÅÊï∞ÁªÑË∂äÁïå(type:code)Ôºõ‰∏ãÊ∏∏ÊúçÂä°ÈîôËØØ(type:downstream)ÔºåÂ¶ÇË∞ÉÁî®‰∏ãÊ∏∏ÊúçÂä°Âá∫Èîô„ÄÅ‰∏ãÊ∏∏ËøîÂõû500ÈîôËØØÁ†ÅÔºõÁ≥ªÁªüËµÑÊ∫êÂºÇÂ∏∏ÔºåÂ¶ÇÂÜÖÂ≠òÊàñCPU‰ΩøÁî®ËøáÂ§ö(type:system)ÔºåËá™Ë∫´Âá∫Áé∞ÈîôËØØÔºàtype:selfÔºâÔºåÂ¶ÇÊ≥®ÂÖ•ÊïÖÈöú„ÄÅÂá∫Áé∞ÂºÇÂ∏∏ÔºåÊØè‰∏™ÊñπÂêëÁõ¥Áªô‰∏Ä‰∏™ÁªìËÆ∫Âç≥ÂèØÔºå‰∏çÊ∂âÂèäÂà∞ÊñπÂêë‰∏çË¶ÅÁªôÂá∫Ôºå‰∏çË¶ÅÈáçÂ§ç„ÄÇ‰∏ªË¶ÅÊ†πÂõ†ÊñπÂêëÂøÖÈ°ªÂíåmajorÁªìËÆ∫‰øùÊåÅ‰∏ÄËá¥Ôºå‰∏çË¶Å‰∏çÁªü‰∏Ä„ÄÇ\n\
            2. ‰∏îÂøÖÈ°ªÁªô‰∏Ä‰∏™ÊúâÈóÆÈ¢òÁöÑÊñπÂêë(level‰∏∫major)\n3. ÂàóË°®ÂøÖÈ°ªÊåâÁÖßÁ≠âÁ∫ßÊéíÂ∫èlevel‰ªéÈ´òÂà∞‰ΩéÁª¥Ôºàmajor,minor,normalÔºâ\n\
            4. causeÂÜÖÂÆπÂè™ËÉΩ‰∏∫Á¨¨‰∏âÊñπ‰æùËµñÈîôËØØÔºåÈÖçÁΩÆÈóÆÈ¢òÔºå‰ª£Á†ÅÂºÇÂ∏∏Ôºå‰∏ãÊ∏∏ÊúçÂä°Ë∞ÉÁî®ÈîôËØØÔºåÁ≥ªÁªüËµÑÊ∫ê\n#Ê†ºÂºèÊ®°Áâà\n```json\n{\n    \
            \    \"cause\": \"‰∏ªË¶ÅÂéüÊ†πÂõ†ÊñπÂêë\",\n        \"other\": [\n            {\n  \
            \              \"reason\": \"\",\n                \"type\": \"thirdparty\"\
            ,\n                \"level\": \"major/minor/normal\"\n            },\n\
            \            {\n                \"reason\": \"\",\n                \"\
            type\": \"code\",\n                \"level\": \"minor\"\n            },\n\
            \            {\n                \"reason\": \"\",\n                \"\
            type\": \"config\",\n                \"level\": \"normal\"\n         \
            \   },\n            {\n                \"reason\": \"\",\n           \
            \     \"type\": \"downstream\",\n                \"level\": \"normal\"\
            \n            },\n            {\n                \"reason\": \"\",\n \
            \               \"type\": \"system\",\n                \"level\": \"normal\"\
            \n            }\n        ]\n    }\n```\n#ËæìÂá∫Ê†ºÂºè\ntypeÂè™ËÉΩ‰∏∫Á¨¨‰∏âÊñπ‰æùËµñÔºàthirdpartyÔºâÔºåÈÖçÁΩÆÈóÆÈ¢ò(config)Ôºå‰ª£Á†ÅÂºÇÂ∏∏(code)Ôºå‰∏ãÊ∏∏ÊúçÂä°ÈîôËØØ(downstream)ÔºåÁ≥ªÁªüËµÑÊ∫êÂºÇÂ∏∏(system)ËøôÂá†ÁßçÔºå‰∏çË¶ÅÊúâÂÖ∂‰ªñÂÜÖÂÆπ\n\
            jsonÊ†ºÂºèÊï∞ÊçÆÔºåÊ†ºÂºèÂèÇÊï∞Ê®°ÁâàÔºå‰∏çË¶ÅÊúâÂÖ∂‰ªñËæìÂá∫"
        selected: false
        title: Ê†πÂõ†ÊñπÂêëÁªìËÆ∫
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1750846407202'
      position:
        x: 9126
        y: 1223
      positionAbsolute:
        x: 9126
        y: 1223
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import requests\nimport json\n\n\ndef get_red(query_params):\n    response\
          \ = requests.get(\n        \"http://apo-backend-svc:8080\" + \"/api/dataplane/redcharts\"\
          , params=query_params\n    )\n    if response.status_code != 200 or len(response.json()[\"\
          results\"]) == 0:\n        return {}\n    metrics = {}\n    metrics[\"latency\"\
          ] = response.json()[\"results\"][0][\"timeseries\"][0][\"chart\"]\n    metrics[\"\
          errorRate\"] = response.json()[\"results\"][1][\"timeseries\"][0][\"chart\"\
          ]\n    metrics[\"tps\"] = response.json()[\"results\"][2][\"timeseries\"\
          ][0][\"chart\"]\n    return metrics\n\n\n\ndef get_topology(service, cluster,\
          \ start_time, end_time) -> str:\n    params = {\n        \"service\": service,\n\
          \        \"cluster\": cluster,\n        \"startTime\": start_time,\n   \
          \     \"endTime\": end_time,\n    }\n    resp = requests.get(\n        \"\
          http://apo-backend-svc:8080\" + \"/api/dataplane/topology\", params=params\n\
          \    )\n    res = {}\n\n    query_params = {\"startTime\": start_time, \"\
          endTime\": end_time, \"service\": service}\n    metrics = get_red(query_params)\n\
          \    res[\"current\"] = {\n        \"service\": service,\n        \"description\"\
          : \"\",\n        \"metrics\": metrics,\n    }\n\n    if resp.status_code\
          \ == 200 and resp.json()[\"msg\"] == \"\":\n        list = resp.json()\n\
          \        result = {}\n        for item in list[\"results\"] or []:\n   \
          \         if item[\"name\"] == service:\n                result = item\n\
          \n        parents = []\n        for p_svc in result[\"parents\"] or []:\n\
          \            query_params = {\n                \"startTime\": start_time,\n\
          \                \"endTime\": end_time,\n                \"service\": p_svc,\n\
          \            }\n            metrics = get_red(query_params)\n          \
          \  if len(metrics) == 0:\n                continue\n            parents.append(\n\
          \                {\n                    \"service\": p_svc,\n          \
          \          \"description\": \"\",\n                    \"metrics\": metrics,\n\
          \                }\n            )\n\n        children = []\n        for\
          \ c_svc in result[\"children\"] or []:\n            query_params = {\n \
          \               \"startTime\": start_time,\n                \"endTime\"\
          : end_time,\n                \"service\": c_svc,\n            }\n      \
          \      metrics = get_red(query_params)\n            if len(metrics) == 0:\n\
          \                continue\n            children.append(\n              \
          \  {\n                    \"service\": c_svc,\n                    \"description\"\
          : \"\",\n                    \"metrics\": metrics,\n                }\n\
          \            )\n\n        res[\"children\"] = children\n        res[\"parents\"\
          ] = parents\n        return json.dumps(res)\n\n\ndef main(service: str,\
          \ startTime: int, endTime: int) -> dict:\n    try:\n      rc = get_topology(service,\
          \ \"\", startTime, endTime)\n    except Exception:\n        rc = \"{}\"\n\
          \    if rc == None:\n        rc = \"{}\"\n    return {\n        \"result\"\
          : rc,\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊãìÊâë
        type: code
        variables:
        - value_selector:
          - '1742807803325'
          - service
          variable: service
        - value_selector:
          - '1741227526517'
          - startTime
          variable: startTime
        - value_selector:
          - '1741227526517'
          - endTime
          variable: endTime
      height: 54
      id: '1750941439700'
      position:
        x: 9430
        y: 1317
      positionAbsolute:
        x: 9430
        y: 1317
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 45ec55b5-ae91-45b8-989c-83f81cee1712
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰∏™ÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÁöÑÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑Ëß£ÂÜ≥ÈóÆÈ¢ò
        - id: 2832e05f-6966-49d9-9697-77bde92736a9
          role: user
          text: "#ÁõÆÁöÑ\nÊ†πÊçÆÂ∫îÁî®ÁöÑÁªìËÆ∫ÁîüÊàêÂΩìÂâçÊÉÖÂÜµÁöÑÊèèËø∞\n‰ΩøÁî®ÁªìËÆ∫ÂÜÖÁöÑÊï∞ÊçÆÔºåÂõûÁ≠îÁÆÄÊ¥ÅÊòìÊáÇ\n#ÁªìËÆ∫Êï∞ÊçÆ\nÂëäË≠¶‰∫ã‰ª∂{{#1742807803325.alertName#}}\n\
            ÂëäË≠¶‰∫ã‰ª∂ÂàÜÊûêÁªìËÆ∫{{#1744878466157.output#}}\nÂèóÂΩ±ÂìçÊúçÂä°ÊÄªÁªì{{#1753760065732.output#}}ÔºåÂ¶ÇÊûúÂèóÂΩ±ÂìçÊúçÂä°ÊÄªÁªì‰∏∫Á©∫ÂàôÂøΩÁï•Ôºå‰∏çÈúÄË¶ÅÊèèËø∞ÂèóÂΩ±ÂìçÊúçÂä°Áõ∏ÂÖ≥ÂÜÖÂÆπÔºå‰πüÊó†ÈúÄÊèêÁ§∫Áî®Êà∑ËØ•Êï∞ÊçÆ‰∏∫Á©∫„ÄÇ\n\
            # Êó∂Èó¥\n{{#1741227526517.endTime#}}\n#Ê†ºÂºèÊ®°ÁâàÂèÇËÄÉ\nÂëäË≠¶Êä•‰∫ã‰ª∂ÁªìËÆ∫ \n**‰∫ã‰ª∂Ê¶ÇËø∞**Ôºö\nÊúçÂä°XXXÂú®XXÊó∂Èó¥Áü≠ÂÜÖÂá∫Áé∞XXXÂëäË≠¶\
            \ (ÁÆÄÊ¥ÅÔºå‰∏çË¶ÅÊúâÂÖ∂‰ªñÂÜÖÂÆπ)\n**ÂèóÂΩ±ÂìçÊúçÂä°**\nÁÆÄÂçïÊèèËø∞ÂèóÂΩ±ÂìçÁöÑÊúçÂä°ÔºåÂ¶ÇÊûúÊ≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆ‰∏çÈúÄË¶ÅËæìÂá∫‚ÄúÂèóÂΩ±ÂìçÊúçÂä°‚ÄùËøôÈÉ®ÂàÜ„ÄÇxxÊúçÂä°ÊàêÂäüÁéá‰∏ãÈôç‰∫ÜxxÔºåxxÊúçÂä°ËØ∑Ê±ÇÈáè‰∏ãÈôç‰∫ÜxxÔºåÈìæË∑Ø‰∏≠ÁöÑxxÂá∫Áé∞ÈîôËØØ„ÄÇ\n\
            **ÈóÆÈ¢òÂàÜÊûê**\nÂàùÊ≠•ÂàÜÊûêÊòØXXXÊñπÂêëÔºàÂ¶ÇÊûúÊúâÂÖ∑‰ΩìÊòØËá™Ë∫´ËøòÊòØ‰∏ãÊ∏∏ÊñπÂêëÔºåËØ∑ÁªôÂá∫ÊñπÂêëÊèèËø∞ÔºâÔºå‰∏çË¶ÅÊúâÂÖ∂‰ªñÂÜÖÂÆπÔºåÁªôÂá∫ÊñπÂêëÂç≥ÂèØ\n**Ëß£ÂÜ≥Êé™ÊñΩ**Ôºö\n\
            - ÊâßË°åXXXXÂëΩ‰ª§ÔºàÂøÖÈ°ªÂíåÊïÖÈöúÊñπÂêëÊúâÂÖ≥ÔºåÈÅøÂÖçÁªôÂá∫Ëøá‰∫éÂÆΩÊ≥õÁöÑÂª∫ËÆÆÔºåÂ¶Ç‚ÄúÂª∫ËÆÆÊéíÊü•ÂÜÖÈÉ®ÈîôËØØ‚ÄùÔºâ\n\n#ËæìÂá∫Ê†ºÂºè\nÊ†ºÂºèÂèÇËÄÉÊ®°ÁâàÔºåÊ≥®ÊÑèÊç¢Ë°åÂíåÁ©∫Ê†ºÔºåÁ°Æ‰øùÊñáÊú¨ÁæéËßÇËæìÂá∫ÔºåÁÆÄÂçïÊòìÊáÇ(‰ΩøÁî®MarkDownÊ†ºÂºèÁöÑÊñáÊú¨)Ôºå‰∏î‰∏çË¶ÅÊúâÂÖ∂‰ªñËæìÂá∫"
        selected: false
        title: ÊÄªÁªì
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1750987639392'
      position:
        x: 8822
        y: 833
      positionAbsolute:
        x: 8822
        y: 833
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: d33542e3-ac5c-48f1-970b-fa7ab0ffd0ef
          role: system
          text: ''
        - id: a070588b-7b1e-453e-8994-1e1bb6b4593c
          role: user
          text: '#ÁõÆÁöÑ

            ‰ªéÊïÖÈöúÁªìËÆ∫‰∏≠ÊèêÂèñÊïÖÈöúÊñπÂêë

            # Ê≥®ÊÑè

            Ê†πÊçÆÁªìËÆ∫ÁöÑÂÜÖÂÆπÂàíÂàÜÊïÖÈöúÊñπÂêë


            #ÁªìËÆ∫Êï∞ÊçÆ

            {{#1744878466157.output#}}

            #ËæìÂá∫ÂÜÖÂÆπ

            ÊïÖÈöúÊñπÂêëÔºåÂè™ÈúÄËæìÂá∫Âá†‰∏™Â≠óÁöÑÊïÖÈöúÊñπÂêëÊèèËø∞ ÔºàÂ¶ÇÁΩëÁªúÊñπÂêëÔºå‰∏ãÊ∏∏‰æùËµñÈóÆÈ¢òÔºåcpuÊñπÂêëÔºå Ëá™Ë∫´ÈóÆÈ¢òÔºå‰∏ãÊ∏∏Âá∫ÈîôÂØºËá¥Á≠âÔºâ'
        selected: false
        title: LLM 8
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751004239868'
      position:
        x: 10342
        y: 963
      positionAbsolute:
        x: 10342
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: d3326874-756a-4db9-9634-3725cf97b6e7
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰∏™ÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑Ëß£ÂÜ≥ÈóÆÈ¢ò
        - id: 0750954d-5470-459a-b0d2-06b381addbaa
          role: user
          text: '# ÁõÆÁöÑ

            ËæìÂá∫ÂΩìÂâçÊó•ÂøóÊï∞ÊçÆÁöÑÊÉÖÂÜµÔºåËæìÂá∫Â≠óÊï∞100Â∑¶Âè≥ÔºåÂ∞ΩÈáèÁÆÄÊ¥ÅÊòé‰∫Ü

            # Êó•ÂøóÊï∞ÊçÆ

            {{#1750844540721.output#}}

            #ËæìÂá∫

            ÊúçÂä°xxÂú®xxÊó∂Èó¥ÊÆµÂÜÖÂá∫Áé∞‰∫ÜxxxÊó•ÂøóÈîôËØØ'
        selected: false
        title: Êó•ÂøóÊÄªÁªì
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1751251291730'
      position:
        x: 9126
        y: 963
      positionAbsolute:
        x: 9126
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: alertEventId
            ja_JP: alertEventId
            pt_BR: alertEventId
            zh_Hans: Êä•ÂëäÁ±ªÂûã
          label:
            en_US: alertEventId
            ja_JP: alertEventId
            pt_BR: alertEventId
            zh_Hans: ÂëäË≠¶‰∫ã‰ª∂ID
          llm_description: alertEventId
          max: null
          min: null
          name: alertEventId
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: reportText
            ja_JP: reportText
            pt_BR: reportText
            zh_Hans: Êä•ÂëäÁÆÄË¶ÅÊñáÊú¨
          label:
            en_US: reportText
            ja_JP: reportText
            pt_BR: reportText
            zh_Hans: Êä•ÂëäÁÆÄË¶ÅÊñáÊú¨
          llm_description: reportText
          max: null
          min: null
          name: reportText
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: frontPrefix
            ja_JP: frontPrefix
            pt_BR: frontPrefix
            zh_Hans: Êä•ÂëäËÆøÈóÆÂú∞ÂùÄ
          label:
            en_US: frontPrefix
            ja_JP: frontPrefix
            pt_BR: frontPrefix
            zh_Hans: Êä•ÂëäËÆøÈóÆÂú∞ÂùÄ
          llm_description: frontPrefix
          max: null
          min: null
          name: frontPrefix
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Start timestamp in microseconds
            ja_JP: Start timestamp in microseconds
            pt_BR: Start timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÂºÄÂßãÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: Start Time
            ja_JP: Start Time
            pt_BR: Start Time
            zh_Hans: ÂºÄÂßãÊó∂Èó¥
          llm_description: Microsecond timestamp for start time
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: End timestamp in microseconds
            ja_JP: End timestamp in microseconds
            pt_BR: End timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÁªìÊùüÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: End Time
            ja_JP: End Time
            pt_BR: End Time
            zh_Hans: ÁªìÊùüÊó∂Èó¥
          llm_description: Microsecond timestamp for end time
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          alertEventId: ''
          endTime: ''
          frontPrefix: ''
          reportText: ''
          startTime: ''
        provider_id: apo_analysis
        provider_name: apo_analysis
        provider_type: builtin
        selected: false
        title: Ëé∑ÂèñÂëäË≠¶ÂàÜÊûêÊä•ÂëäÈìæÊé•
        tool_configurations: {}
        tool_label: Ëé∑ÂèñÂëäË≠¶ÂàÜÊûêÊä•ÂëäÈìæÊé•
        tool_name: get alert report url
        tool_parameters:
          alertEventId:
            type: mixed
            value: '{{#1742807803325.alertEventId#}}'
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          reportText:
            type: mixed
            value: ÂΩìÂâçÂ∫îÁî®Êó•ÂøóÈîôËØØÊï∞ÂçáÈ´ò\nËØ¶ÁªÜÊä•ÂëäÂÜÖÂÆπ\n
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1751602453263'
      position:
        x: 10038
        y: 963
      positionAbsolute:
        x: 10038
        y: 963
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: cbd77e4f-1f53-4d83-b9fe-413de4db0078
            value: ce
            varType: string
            variable_selector:
            - '1741227526517'
            - edition
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: Êù°‰ª∂ÂàÜÊîØ 2
        type: if-else
      height: 126
      id: '1751602618703'
      position:
        x: 8518
        y: 628
      positionAbsolute:
        x: 8518
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1744878466157'
          - output
          variable: text
        selected: false
        title: ÁªìÊùü 5
        type: end
      height: 90
      id: '1751602687916'
      position:
        x: 8822
        y: 703
      positionAbsolute:
        x: 8822
        y: 703
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\n\ndef main(alert_name: str) -> str:\n    alert_name = alert_name.lower()\n\
          \n    rules = [\n        (r\"log.*err|Êó•Âøó.*ÈîôËØØ\", \"Êó•ÂøóÈîôËØØÊï∞Áõ∏ÂÖ≥\"),\n        (r\"\
          ËØ∑Ê±Ç.*ÈîôËØØÁéá|request.*error\", \"ËØ∑Ê±ÇÈîôËØØÁéá\"),\n        (r\"ËøõÁ®ã.*‰∏çÊ¥ªË∑É|process.*inactive\"\
          , \"ËøõÁ®ã‰∏çÊ¥ªË∑É\")\n    ]\n\n    result = \"ÂÖ∂‰ªñ\"\n    for pattern, category in\
          \ rules:\n        if re.search(pattern, alert_name):\n            result\
          \ = category\n            break\n\n    return {\n        \"result\": result\n\
          \    }\n\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ËØÜÂà´ÂëäË≠¶Á±ªÂûã
        type: code
        variables:
        - value_selector:
          - '1742807803325'
          - alertName
          variable: alert_name
      height: 54
      id: '1753411561314'
      position:
        x: 942
        y: 498
      positionAbsolute:
        x: 942
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: d8b5d22b-98af-43df-a72a-650c26e9f5b6
            value: Êó•ÂøóÈîôËØØÊï∞Áõ∏ÂÖ≥
            varType: string
            variable_selector:
            - '1753411561314'
            - result
          id: 'true'
          logical_operator: and
        - case_id: da617f11-ed6f-44ec-9477-73d6f81455fa
          conditions:
          - comparison_operator: contains
            id: 08d0b7e9-a06c-4d27-89c3-bed25a904eb5
            value: ËØ∑Ê±ÇÈîôËØØÁéá
            varType: string
            variable_selector:
            - '1753411561314'
            - result
          id: da617f11-ed6f-44ec-9477-73d6f81455fa
          logical_operator: and
        - case_id: 91b6ca4c-4632-412a-89b1-cbd1539e374f
          conditions:
          - comparison_operator: contains
            id: a03eea46-b7ca-441d-94de-54de5190d1fb
            value: ËøõÁ®ã‰∏çÊ¥ªË∑É
            varType: string
            variable_selector:
            - '1753411561314'
            - result
          id: 91b6ca4c-4632-412a-89b1-cbd1539e374f
          logical_operator: and
        desc: ''
        selected: false
        title: Êù°‰ª∂ÂàÜÊîØ 3
        type: if-else
      height: 222
      id: '1753412450611'
      position:
        x: 1246
        y: 432
      positionAbsolute:
        x: 1246
        y: 432
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(data):\n    if \"Error\" in data:\n       \
          \ return {\n            \"services\": []\n        }\n    parents = json.loads(data).get(\"\
          data\", {}).get(\"parents\", [])\n    services = [item[\"service\"] for\
          \ item in parents]\n    return{\n        \"services\": services\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          services:
            children: null
            type: array[string]
        selected: false
        title: Ëé∑Âèñ‰∏äÊ∏∏ÊúçÂä°
        type: code
        variables:
        - value_selector:
          - '1753413225096'
          - text
          variable: data
      height: 54
      id: '1753412973821'
      position:
        x: 4730
        y: 917
      positionAbsolute:
        x: 4730
        y: 917
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Service name
            ja_JP: Service name
            pt_BR: Service name
            zh_Hans: ÊúçÂä°Âêç
          label:
            en_US: service
            ja_JP: service
            pt_BR: service
            zh_Hans: service
          llm_description: Service name
          max: null
          min: null
          name: service
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: ÈõÜÁæ§
          label:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: cluster
          llm_description: cluster
          max: null
          min: null
          name: cluster
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          cluster: ''
          endTime: ''
          service: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÊúçÂä°ÊãìÊâë
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÊúçÂä°ÊãìÊâë
        tool_name: dataplane_service_topology
        tool_parameters:
          cluster:
            type: mixed
            value: ''
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          service:
            type: mixed
            value: '{{#1742807803325.service#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753413225096'
      position:
        x: 4426
        y: 917
      positionAbsolute:
        x: 4426
        y: 917
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Container id
            ja_JP: Container id
            pt_BR: Container id
            zh_Hans: ÂÆπÂô®id
          label:
            en_US: containerId
            ja_JP: containerId
            pt_BR: containerId
            zh_Hans: ÂÆπÂô®id
          llm_description: Container id
          max: null
          min: null
          name: containerId
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Node name
            ja_JP: Node name
            pt_BR: Node name
            zh_Hans: ‰∏ªÊú∫Âêç
          label:
            en_US: Node name
            ja_JP: Node name
            pt_BR: Node name
            zh_Hans: ‰∏ªÊú∫Âêç
          llm_description: Node name
          max: null
          min: null
          name: nodeName
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: pid
            ja_JP: pid
            pt_BR: pid
            zh_Hans: pid
          label:
            en_US: pid
            ja_JP: pid
            pt_BR: pid
            zh_Hans: pid
          llm_description: pid
          max: null
          min: null
          name: pid
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: pod
            ja_JP: pod
            pt_BR: pod
            zh_Hans: pod
          label:
            en_US: pod
            ja_JP: pod
            pt_BR: pod
            zh_Hans: pod
          llm_description: pod
          max: null
          min: null
          name: pod
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: ÈõÜÁæ§
          label:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: ÈõÜÁæ§
          llm_description: cluster
          max: null
          min: null
          name: cluster
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          cluster: ''
          containerId: ''
          endTime: ''
          nodeName: ''
          pid: ''
          pod: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÂÆû‰æãÊâÄÂ±ûÊúçÂä°
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÂÆû‰æãÊâÄÂ±ûÊúçÂä°
        tool_name: dataplane_instance_service
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          nodeName:
            type: mixed
            value: '{{#1742807803325.nodeName#}}'
          pid:
            type: mixed
            value: '{{#1742807803325.pid#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753414138349'
      position:
        x: 1854
        y: 498
      positionAbsolute:
        x: 1854
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(data_json: str, service) -> dict:\n    if len(service) >\
          \ 0:\n        return {\n            \"result\": service\n        }\n   \
          \ data = json.loads(data_json).get('data', '')\n    return {\n        \"\
          result\": data,\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊúçÂä°Âêç
        type: code
        variables:
        - value_selector:
          - '1753414138349'
          - text
          variable: data_json
        - value_selector:
          - '1742807803325'
          - service
          variable: service
      height: 54
      id: '1753414255071'
      position:
        x: 2158
        y: 516
      positionAbsolute:
        x: 2158
        y: 516
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_handle_mode: terminated
        is_parallel: false
        iterator_selector:
        - '1753412973821'
        - services
        output_selector:
        - '1753421605090'
        - result
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1753414276399start
        title: Ëø≠‰ª£
        type: iteration
        width: 1296
      height: 148
      id: '1753414276399'
      position:
        x: 5642
        y: 888
      positionAbsolute:
        x: 5642
        y: 888
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 1296
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1753414276399start
      parentId: '1753414276399'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 5666
        y: 956
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        is_team_authorization: true
        iteration_id: '1753414276399'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Specified service name
            ja_JP: Specified service name
            pt_BR: Specified service name
            zh_Hans: ÊåáÂÆöÁöÑÊúçÂä°Âêç
          label:
            en_US: service_name
            ja_JP: service_name
            pt_BR: service_name
            zh_Hans: service_name
          llm_description: ÊåáÂÆöÁöÑÊúçÂä°Âêç
          max: null
          min: null
          name: service_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Specified endpoint name
            ja_JP: Specified endpoint name
            pt_BR: Specified endpoint name
            zh_Hans: ÊåáÂÆöÁöÑÊúçÂä°Á´ØÁÇπÂêç
          label:
            en_US: content_key
            ja_JP: content_key
            pt_BR: content_key
            zh_Hans: content_key
          llm_description: ÊåáÂÆöÁöÑÊúçÂä°Á´ØÁÇπÂêç
          max: null
          min: null
          name: content_key
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          content_key: ''
          endTime: ''
          service_name: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: ÊúçÂä°ËØ∑Ê±ÇÊàêÂäüÁéá(ÊåâÊúçÂä°ÂêçÂíåÂÜÖÂÆπÈîÆÁªüËÆ°,ÊåáÂÆöÊó∂Èó¥ÊÆµÂÜÖ)
        tool_configurations: {}
        tool_label: ÊúçÂä°ËØ∑Ê±ÇÊàêÂäüÁéá(ÊåâÊúçÂä°ÂêçÂíåÂÜÖÂÆπÈîÆÁªüËÆ°,ÊåáÂÆöÊó∂Èó¥ÊÆµÂÜÖ)
        tool_name: Originx ÂåóÊûÅÊòüÊåáÊ†á (ÊúçÂä°Â±ÇÁ∫ß) - REDÊåáÊ†á - ËØ∑Ê±ÇÊàêÂäüÁéá
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          service_name:
            type: mixed
            value: '{{#1753414276399.item#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753414387530'
      parentId: '1753414276399'
      position:
        x: 128
        y: 68
      positionAbsolute:
        x: 5770
        y: 956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        is_team_authorization: true
        iteration_id: '1753414276399'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Service name
            ja_JP: Service name
            pt_BR: Service name
            zh_Hans: ÊúçÂä°Âêç
          label:
            en_US: service
            ja_JP: service
            pt_BR: service
            zh_Hans: service
          llm_description: Service name
          max: null
          min: null
          name: service
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: ÈõÜÁæ§
          label:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: cluster
          llm_description: cluster
          max: null
          min: null
          name: cluster
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: endpoint
            ja_JP: endpoint
            pt_BR: endpoint
            zh_Hans: endpoint
          label:
            en_US: endpoint
            ja_JP: endpoint
            pt_BR: endpoint
            zh_Hans: endpoint
          llm_description: endpoint
          max: null
          min: null
          name: endpoint
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          cluster: ''
          endTime: ''
          endpoint: ''
          service: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÊúçÂä°REDÊåáÊ†á
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÊúçÂä°REDÊåáÊ†á
        tool_name: dataplane_service_redcharts
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          service:
            type: mixed
            value: '{{#1753414276399.item#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753414403009'
      parentId: '1753414276399'
      position:
        x: 432
        y: 68
      positionAbsolute:
        x: 6074
        y: 956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        error_handle_mode: terminated
        is_parallel: false
        iterator_selector:
        - '1753414587601'
        - result
        output_selector:
        - '1753415013827'
        - result
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1753414518300start
        title: Ëé∑ÂèñÈîôËØØÊó•Âøó
        type: iteration
        width: 992
      height: 148
      id: '1753414518300'
      position:
        x: 2766
        y: 498
      positionAbsolute:
        x: 2766
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 992
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1753414518300start
      parentId: '1753414518300'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 2790
        y: 566
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        is_team_authorization: true
        iteration_id: '1753414518300'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Query condition(clickhouse where clause).
            ja_JP: Query condition(clickhouse where clause).
            pt_BR: Query condition(clickhouse where clause).
            zh_Hans: Êü•ËØ¢Êù°‰ª∂Ôºàclickhouse whereÂ≠êÂè•Ôºâ
          label:
            en_US: Query condition(clickhouse where clause).
            ja_JP: Query condition(clickhouse where clause).
            pt_BR: Query condition(clickhouse where clause).
            zh_Hans: Êü•ËØ¢Êù°‰ª∂Ôºàclickhouse whereÂ≠êÂè•Ôºâ
          llm_description: Query condition(clickhouse where clause).
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Current page
            ja_JP: Current page
            pt_BR: Current page
            zh_Hans: ÂΩìÂâçÈ°µ
          label:
            en_US: Current page
            ja_JP: Current page
            pt_BR: Current page
            zh_Hans: ÂΩìÂâçÈ°µ
          llm_description: Current page
          max: null
          min: null
          name: pageNum
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Page size
            ja_JP: Page size
            pt_BR: Page size
            zh_Hans: È°µÂ§ßÂ∞è
          label:
            en_US: Page size
            ja_JP: Page size
            pt_BR: Page size
            zh_Hans: È°µÂ§ßÂ∞è
          llm_description: Page size
          max: null
          min: null
          name: pageSize
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Start timestamp in microseconds
            ja_JP: Start timestamp in microseconds
            pt_BR: Start timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÂºÄÂßãÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: Start Time
            ja_JP: Start Time
            pt_BR: Start Time
            zh_Hans: ÂºÄÂßãÊó∂Èó¥
          llm_description: Microsecond timestamp for start time
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: End timestamp in microseconds
            ja_JP: End timestamp in microseconds
            pt_BR: End timestamp in microseconds
            zh_Hans: Êü•ËØ¢ÁªìÊùüÊó∂Èó¥ÔºàÂæÆÁßíÔºâ
          label:
            en_US: End Time
            ja_JP: End Time
            pt_BR: End Time
            zh_Hans: ÁªìÊùüÊó∂Èó¥
          llm_description: Microsecond timestamp for end time
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          endTime: ''
          pageNum: ''
          pageSize: ''
          query: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_name: Êü•ËØ¢ÂÖ®ÈáèÊó•Âøó
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1753414924837'
            - endTime
          pageNum:
            type: constant
            value: 1
          pageSize:
            type: constant
            value: 999
          query:
            type: mixed
            value: '{{#1753414924837.query#}}'
          startTime:
            type: variable
            value:
            - '1753414924837'
            - startTime
        type: tool
      height: 54
      id: '1753414547927'
      parentId: '1753414518300'
      position:
        x: 428
        y: 65
      positionAbsolute:
        x: 3194
        y: 563
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "def split_time_range(start_time: int, end_time: int, max_interval:\
          \ int = 60 * 1000000) -> dict:\n    intervals = []\n    current_start =\
          \ start_time\n    while current_start < end_time:\n        current_end =\
          \ min(current_start + max_interval, end_time)\n        intervals.append({\n\
          \            \"startTime\": current_start,\n            \"endTime\": current_end\n\
          \        })\n        current_start = current_end\n    return {'result':\
          \ intervals}\n\ndef main(start_time: int, end_time: int, max_interval: int\
          \ = 60 * 1000000 * 2) -> dict:\n    return split_time_range(start_time,\
          \ end_time, max_interval)"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[object]
        selected: false
        title: ÂàíÂàÜÊó∂Èó¥Âå∫Èó¥
        type: code
        variables:
        - value_selector:
          - '1741227526517'
          - startTime
          variable: start_time
        - value_selector:
          - '1741227526517'
          - endTime
          variable: end_time
      height: 54
      id: '1753414587601'
      position:
        x: 2462
        y: 498
      positionAbsolute:
        x: 2462
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(pod: str, service: str, node: str, pid: str, containerId:\
          \ str, sourceFrom: str, item) -> dict:\n    query = ''\n    if len(containerId)\
          \ > 0 and len(node) > 0:\n        query = f\"\"\"container_id='{containerId}'\
          \ and host_name='{node}'\"\"\"\n    elif len(pod) > 0 and len(service) >\
          \ 0:\n        query = f\"\"\"k8s_pod_name='{pod}' and container_name='{service}'\"\
          \"\"\n    elif len(pod) > 0:\n        query = f\"\"\"k8s_pod_name='{pod}'\"\
          \"\"\n    elif len(node) > 0 and len(pid) > 0:\n        query = f\"\"\"\
          host_name='{node}' and pid='{pid}'\"\"\"\n    elif len(service) > 0:\n \
          \       query = f\"\"\"container_name='{service}'\"\"\"\n    elif len(containerId)\
          \ > 0:\n        query = f\"\"\"container_id='{containerId}'\"\"\"\n    elif\
          \ len(node) > 0:\n        query = f\"\"\"host_name='{node}'\"\"\"\n\n  \
          \  if len(sourceFrom) > 0:\n        if len(query) > 0:\n            query\
          \ += f\" and source='{sourceFrom}'\"\n        else:\n            query =\
          \ f\"\"\"source='{sourceFrom}'\"\"\"\n    \n    return {\n        \"query\"\
          : query,\n        \"startTime\": item[\"startTime\"],\n        \"endTime\"\
          : item[\"endTime\"]\n    }"
        code_language: python3
        desc: ''
        isInIteration: true
        iteration_id: '1753414518300'
        outputs:
          endTime:
            children: null
            type: number
          query:
            children: null
            type: string
          startTime:
            children: null
            type: number
        selected: false
        title: Ëé∑ÂèñÊü•ËØ¢Êù°‰ª∂
        type: code
        variables:
        - value_selector:
          - '1742807803325'
          - pod
          variable: pod
        - value_selector:
          - '1742807803325'
          - service
          variable: service
        - value_selector:
          - '1742807803325'
          - nodeName
          variable: node
        - value_selector:
          - '1742807803325'
          - pid
          variable: pid
        - value_selector:
          - '1742807803325'
          - containerId
          variable: containerId
        - value_selector:
          - '1742807803325'
          - sourceFrom
          variable: sourceFrom
        - value_selector:
          - '1753414518300'
          - item
          variable: item
      height: 54
      id: '1753414924837'
      parentId: '1753414518300'
      position:
        x: 128
        y: 65
      positionAbsolute:
        x: 2894
        y: 563
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import re\nimport json\nfrom typing import List, Dict, Tuple, Optional\n\
          \n\nclass OptimizedServiceUnavailableDetector:\n    \"\"\"‰ºòÂåñÁöÑÊúçÂä°‰∏çÂèØÁî®Êó•ÂøóÊ£ÄÊµãÂô®\
          \ - ‰ªÖ‰ΩøÁî®ÂéüÁîüÂ∫ì\"\"\"\n    \n    def __init__(self):\n        # È¢ÑÁºñËØëÊâÄÊúâÊ≠£ÂàôË°®ËææÂºè\n\
          \        self.compiled_patterns = self._compile_optimized_patterns()\n \
          \       # Âø´ÈÄüËøáÊª§Âô® - ÂåÖÂê´Â∏∏ËßÅÈîôËØØÂÖ≥ÈîÆËØç\n        self.quick_filter = re.compile(\n \
          \           r'(?:error|fail|timeout|unavailable|panic|crash|connection|refused|reset|'\n\
          \            r'5\\d{2}|4\\d{2}|exception|critical|fatal|'\n            r'ÈîôËØØ|Â§±Ë¥•|Ë∂ÖÊó∂|‰∏çÂèØÁî®|Â¥©Ê∫É|ÂºÇÂ∏∏|Ëá¥ÂëΩ|ÊãíÁªù|ËøûÊé•)',\n\
          \            re.IGNORECASE\n        )\n    \n    def _compile_optimized_patterns(self)\
          \ -> List[Tuple[re.Pattern, str, str]]:\n        \"\"\"ÁºñËØë‰ºòÂåñÁöÑÊ®°ÂºèÂàóË°® - ÂêàÂπ∂Áõ∏‰ººÊ®°ÂºèÂáèÂ∞ëÊ≠£ÂàôÊï∞Èáè\"\
          \"\"\n        patterns = []\n        \n        # 1. ËøûÊé•ÈîôËØØ - Â§ñÈÉ®ÈóÆÈ¢ò (ÂêàÂπ∂Â§ö‰∏™Áõ∏ÂÖ≥Ê®°Âºè)\n\
          \        connection_pattern = (\n            r'(?:connection\\s+(?:refused|reset|closed|aborted|failed|timeout)|'\n\
          \            r'can[\\'\"\\s]*t\\s+connect|unable\\s+to\\s+connect|failed\\\
          s+to\\s+connect|'\n            r'connect\\s+error|network\\s+unreachable|host\\\
          s+unreachable|'\n            r'no\\s+route\\s+to\\s+host|connection\\s+timed\\\
          s+out|'\n            r'ËøûÊé•(?:Ë¢´ÊãíÁªù|Â§±Ë¥•|Ë∂ÖÊó∂|Ë¢´ÈáçÁΩÆ|‰∏≠Êñ≠)|Êó†Ê≥ïËøûÊé•|ÊãíÁªùËøûÊé•|ÁΩëÁªú‰∏çÂèØËææ|‰∏ªÊú∫‰∏çÂèØËææ)'\n\
          \        )\n        patterns.append((re.compile(connection_pattern, re.IGNORECASE),\
          \ \"connection_error\", \"external\"))\n        \n        # 2. Ë∂ÖÊó∂ÈîôËØØ - Ê∑∑ÂêàÈóÆÈ¢ò\n\
          \        timeout_pattern = (\n            r'(?:timeout|timed\\s+out|time\\\
          s+out|Ë∂ÖÊó∂|ËØ∑Ê±ÇË∂ÖÊó∂|ÂìçÂ∫îË∂ÖÊó∂|'\n            r'(?:read|write|connect|socket|request|response|execution|operation)\\\
          s+timeout)'\n        )\n        patterns.append((re.compile(timeout_pattern,\
          \ re.IGNORECASE), \"timeout_error\", \"mixed\"))\n        \n        # 3.\
          \ ÊúçÂä°‰∏çÂèØÁî® - Â§ñÈÉ®ÈóÆÈ¢ò\n        unavailable_pattern = (\n            r'(?:(?:service|server|backend|upstream)\\\
          s+unavailable|not\\s+available|'\n            r'ÊúçÂä°(?:‰∏çÂèØÁî®|Âô®‰∏çÂèØÁî®)|ÊöÇÊó∂‰∏çÂèØÁî®|temporar(?:y|ily)\\\
          s+unavailable|'\n            r'503\\s+service\\s+unavailable)'\n       \
          \ )\n        patterns.append((re.compile(unavailable_pattern, re.IGNORECASE),\
          \ \"unavailable_error\", \"external\"))\n        \n        # 4. Panic/Â¥©Ê∫ÉÈîôËØØ\
          \ - ÂÜÖÈÉ®ÈóÆÈ¢ò\n        panic_pattern = (\n            r'(?:panic[:\\s]|(?:fatal|critical)\\\
          s+error|‰∏•ÈáçÈîôËØØ|Ëá¥ÂëΩÈîôËØØ|Â¥©Ê∫É|crash|'\n            r'segmentation\\s+fault|stack\\\
          s+overflow|out\\s+of\\s+memory|ÂÜÖÂ≠ò‰∏çË∂≥|Ê†àÊ∫¢Âá∫)'\n        )\n        patterns.append((re.compile(panic_pattern,\
          \ re.IGNORECASE), \"panic_error\", \"internal\"))\n        \n        # 5.\
          \ HTTP 5xxÈîôËØØ - ÂÜÖÈÉ®ÈóÆÈ¢ò\n        http_5xx_pattern = r'(?:5\\d{2}(?:\\s+\\w+)?|500\\\
          s+internal\\s+server\\s+error|ÂÜÖÈÉ®ÊúçÂä°Âô®ÈîôËØØ)'\n        patterns.append((re.compile(http_5xx_pattern,\
          \ re.IGNORECASE), \"http_error\", \"internal\"))\n        \n        # 6.\
          \ HTTPÁΩëÂÖ≥ÈîôËØØ - Â§ñÈÉ®ÈóÆÈ¢ò\n        http_gateway_pattern = (\n            r'(?:502\\\
          s+bad\\s+gateway|503\\s+service\\s+unavailable|504\\s+gateway\\s+timeout|'\n\
          \            r'bad\\s+gateway|gateway\\s+timeout|ÁΩëÂÖ≥ÈîôËØØ)'\n        )\n   \
          \     patterns.append((re.compile(http_gateway_pattern, re.IGNORECASE),\
          \ \"http_error\", \"external\"))\n        \n        # 7. ÁΩëÁªúÈîôËØØ - Â§ñÈÉ®ÈóÆÈ¢ò\n \
          \       network_pattern = (\n            r'(?:network\\s+(?:error|is\\s+unreachable)|dns\\\
          s+resolution\\s+failed|'\n            r'name\\s+resolution\\s+failed|ÁΩëÁªú(?:ÈîôËØØ|‰∏çÂèØËææ)|dnsËß£ÊûêÂ§±Ë¥•|ÂüüÂêçËß£ÊûêÂ§±Ë¥•|'\n\
          \            r'(?:socket|tcp|udp)\\s+error)'\n        )\n        patterns.append((re.compile(network_pattern,\
          \ re.IGNORECASE), \"network_error\", \"external\"))\n        \n        #\
          \ 8. Êï∞ÊçÆÂ∫ìÈîôËØØ - Ê∑∑ÂêàÈóÆÈ¢ò\n        database_pattern = (\n            r'(?:database\\\
          s+(?:connection\\s+failed|unavailable|timeout|error)|sql\\s+error|'\n  \
          \          r'Êï∞ÊçÆÂ∫ì(?:ËøûÊé•Â§±Ë¥•|‰∏çÂèØÁî®|Ë∂ÖÊó∂)|sqlÈîôËØØ|connection\\s+pool\\s+exhausted|'\n\
          \            r'too\\s+many\\s+connections|max\\s+connections\\s+reached)'\n\
          \        )\n        patterns.append((re.compile(database_pattern, re.IGNORECASE),\
          \ \"database_error\", \"mixed\"))\n        \n        # 9. ËµÑÊ∫êÈîôËØØ - ÂÜÖÈÉ®ÈóÆÈ¢ò\n\
          \        resource_pattern = (\n            r'(?:memory\\s+exhausted|disk\\\
          s+full|no\\s+space\\s+left|resource\\s+exhausted|'\n            r'ÂÜÖÂ≠ò‰∏çË∂≥|Á£ÅÁõòÁ©∫Èó¥‰∏çË∂≥|ËµÑÊ∫êËÄóÂ∞Ω|(?:cpu|memory)\\\
          s+limit\\s+exceeded)'\n        )\n        patterns.append((re.compile(resource_pattern,\
          \ re.IGNORECASE), \"resource_error\", \"internal\"))\n        \n       \
          \ # 10. ËÆ§ËØÅÈîôËØØ - Ê∑∑ÂêàÈóÆÈ¢ò\n        auth_pattern = (\n            r'(?:(?:authentication|authorization)\\\
          s+failed|access\\s+denied|'\n            r'permission\\s+denied|unauthorized|forbidden|ËÆ§ËØÅÂ§±Ë¥•|ÊéàÊùÉÂ§±Ë¥•|'\n\
          \            r'ËÆøÈóÆË¢´ÊãíÁªù|ÊùÉÈôê‰∏çË∂≥|401\\s+unauthorized|403\\s+forbidden)'\n     \
          \   )\n        patterns.append((re.compile(auth_pattern, re.IGNORECASE),\
          \ \"auth_error\", \"mixed\"))\n        \n        # 11. ÈÄöÁî®ÈîôËØØÊ®°Âºè - ÊîæÂú®ÊúÄÂêéÔºåÈÅøÂÖçËøáÂ∫¶ÂåπÈÖç\n\
          \        generic_pattern = (\n            r'(?:\\b(?:ERROR|ERR|EXCEPTION|FAIL(?:ED)?|FATAL|CRITICAL|CRASH(?:ED)?|BROKEN)\\\
          b|'\n            r'ÈîôËØØ|Â§±Ë¥•|ÂºÇÂ∏∏|Â¥©Ê∫É|Ëá¥ÂëΩ|Êú™Áü•ÈîôËØØ)'\n        )\n        patterns.append((re.compile(generic_pattern,\
          \ re.IGNORECASE), \"generic_error\", \"unknown\"))\n        \n        return\
          \ patterns\n    \n    def detect_line(self, line: str, line_number: int\
          \ = 0) -> Optional[Dict]:\n        \"\"\"Ê£ÄÊµãÂçïË°åÊó•Âøó - ‰ºòÂåñÁâàÊú¨\"\"\"\n        #\
          \ Âø´ÈÄüÈ¢ÑËøáÊª§ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑËØ¶ÁªÜÂåπÈÖç\n        if not self.quick_filter.search(line):\n   \
          \         return None\n        \n        # Êåâ‰ºòÂÖàÁ∫ßÈ°∫Â∫èÂåπÈÖçÔºàÂÖ∑‰ΩìÈîôËØØ‰ºòÂÖà‰∫éÈÄöÁî®ÈîôËØØÔºâ\n     \
          \   for regex, category, source in self.compiled_patterns:\n           \
          \ if regex.search(line):\n                return {\n                   \
          \ \"line_number\": line_number,\n                    \"content\": line,\n\
          \                    \"category\": category,\n                    \"source\"\
          : source\n                }\n        \n        return None\n    \n    def\
          \ detect_logs(self, logs: List[Dict], max_results: int = 30) -> List[Dict]:\n\
          \        \"\"\"Ê£ÄÊµãÂ§öË°åÊó•Âøó - ‰ºòÂåñÁâàÊú¨\"\"\"\n        if not logs:\n            return\
          \ []\n        \n        matches = []\n        \n        # Áõ¥Êé•ÈÅçÂéÜÔºåÈÅøÂÖçÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÁªìÊûÑÂºÄÈîÄ\n\
          \        for i, log in enumerate(logs):\n            if len(matches) >=\
          \ max_results:\n                break\n                \n            line\
          \ = log.get(\"body\", \"\")\n            if not line:  # Ë∑≥ËøáÁ©∫Ë°å\n        \
          \        continue\n                \n            match_info = self.detect_line(line,\
          \ i)\n            if match_info:\n                # Â§çÂà∂ÂéüÂßãÊó•ÂøóÂπ∂Ê∑ªÂä†ÂåπÈÖç‰ø°ÊÅØ\n    \
          \            result_log = log.copy()\n                result_log.update({\n\
          \                    \"category\": match_info[\"category\"],\n         \
          \           \"source\": match_info[\"source\"]\n                })\n   \
          \             matches.append(result_log)\n        \n        return matches\n\
          \    \n    def get_statistics(self, matches: List[Dict]) -> Dict:\n    \
          \    \"\"\"Ëé∑ÂèñÊ£ÄÊµãÁªüËÆ°‰ø°ÊÅØ - ‰ΩøÁî®ÂéüÁîüÊñπÊ≥ï\"\"\"\n        if not matches:\n          \
          \  return {\"total\": 0, \"by_category\": {}, \"by_source\": {}}\n     \
          \   \n        # ‰ΩøÁî®ÂéüÁîüÂ≠óÂÖ∏ÁªüËÆ°\n        by_category = {}\n        by_source =\
          \ {}\n        \n        for match in matches:\n            # ÁªüËÆ°Á±ªÂà´\n    \
          \        category = match.get(\"category\", \"unknown\")\n            by_category[category]\
          \ = by_category.get(category, 0) + 1\n            \n            # ÁªüËÆ°Êù•Ê∫ê\n\
          \            source = match.get(\"source\", \"unknown\") \n            by_source[source]\
          \ = by_source.get(source, 0) + 1\n        \n        return {\n         \
          \   \"total\": len(matches),\n            \"by_category\": by_category,\n\
          \            \"by_source\": by_source\n        }\n    \n    def format_results(self,\
          \ matches: List[Dict], show_details: bool = True, group_by: str = \"source\"\
          ) -> str:\n        \"\"\"Ê†ºÂºèÂåñÊ£ÄÊµãÁªìÊûú\"\"\"\n        if not matches:\n      \
          \      return \"Êú™Ê£ÄÊµãÂà∞ÊúçÂä°‰∏çÂèØÁî®Áõ∏ÂÖ≥Êó•Âøó\"\n        \n        result = f\"Ê£ÄÊµãÂà∞ {len(matches)}\
          \ Êù°ÊúçÂä°‰∏çÂèØÁî®Áõ∏ÂÖ≥Êó•Âøó:\\n\\n\"\n        \n        # ÊâãÂä®ÂàÜÁªÑ\n        groups = {}\n \
          \       for match in matches:\n            key = match.get(group_by, \"\
          unknown\")\n            if key not in groups:\n                groups[key]\
          \ = []\n            groups[key].append(match)\n        \n        if group_by\
          \ == \"source\":\n            source_names = {\n                \"internal\"\
          : \"ÂÜÖÈÉ®ÈóÆÈ¢ò (Ëá™Ë∫´ÊúçÂä°)\",\n                \"external\": \"Â§ñÈÉ®ÈóÆÈ¢ò (‰æùËµñÊúçÂä°)\", \n  \
          \              \"mixed\": \"Ê∑∑ÂêàÈóÆÈ¢ò (ÈúÄËøõ‰∏ÄÊ≠•Âà§Êñ≠)\",\n                \"unknown\"\
          : \"Êú™Áü•Êù•Ê∫ê\"\n            }\n            \n            # Êåâ‰ºòÂÖàÁ∫ßÊéíÂ∫èÊòæÁ§∫\n      \
          \      priority_order = [\"internal\", \"external\", \"mixed\", \"unknown\"\
          ]\n            for source in priority_order:\n                if source\
          \ in groups:\n                    source_matches = groups[source]\n    \
          \                source_name = source_names[source]\n                  \
          \  result += f\"=== {source_name} ({len(source_matches)} Êù°) ===\\n\"\n \
          \                   \n                    if show_details:\n           \
          \             # Âè™ÊòæÁ§∫Ââç3Êù°ËØ¶ÁªÜ‰ø°ÊÅØÔºåÈÅøÂÖçËæìÂá∫ËøáÈïø\n                        for match in\
          \ source_matches[:3]:\n                            content = match.get(\"\
          body\", \"\")\n                            # Êà™Êñ≠ËøáÈïøÁöÑÂÜÖÂÆπ\n                 \
          \           if len(content) > 100:\n                                content\
          \ = content[:100] + \"...\"\n                            result += f\" \
          \ Êó•ÂøóÂÜÖÂÆπ: {content}\\n\"\n                            result += f\"  ÈîôËØØÁ±ªÂûã:\
          \ {match.get('category', 'unknown')}\\n\\n\"\n                        \n\
          \                        if len(source_matches) > 3:\n                 \
          \           result += f\"  ... ËøòÊúâ {len(source_matches) - 3} Êù°ÂêåÁ±ªÊó•Âøó\\n\\n\"\
          \n                    else:\n                        result += f\"  ÂåÖÂê´ {len(source_matches)}\
          \ Êù°Áõ∏ÂÖ≥Êó•Âøó\\n\\n\"\n        else:\n            # ÊåâÁ±ªÂà´ÂàÜÁªÑ\n            for category,\
          \ category_matches in groups.items():\n                result += f\"===\
          \ {category.upper()} ({len(category_matches)} Êù°) ===\\n\"\n            \
          \    \n                if show_details:\n                    for match in\
          \ category_matches[:3]:\n                        content = match.get(\"\
          body\", \"\")\n                        if len(content) > 100:\n        \
          \                    content = content[:100] + \"...\"\n               \
          \         result += f\"  Êó•ÂøóÂÜÖÂÆπ: {content}\\n\"\n                        result\
          \ += f\"  ÈîôËØØÊù•Ê∫ê: {match.get('source', 'unknown')}\\n\\n\"\n             \
          \       \n                    if len(category_matches) > 3:\n          \
          \              result += f\"  ... ËøòÊúâ {len(category_matches) - 3} Êù°ÂêåÁ±ªÊó•Âøó\\\
          n\\n\"\n                else:\n                    result += f\"  ÂåÖÂê´ {len(category_matches)}\
          \ Êù°Áõ∏ÂÖ≥Êó•Âøó\\n\\n\"\n        \n        return result\n\n\ndef main(log_json:\
          \ str):\n    \"\"\"‰∏ªÂáΩÊï∞ - ‰ºòÂåñÁâàÊú¨\"\"\"\n    try:\n        # Ëß£ÊûêJSON\n      \
          \  data = json.loads(log_json)\n        logs = data.get(\"data\", {}).get(\"\
          logContents\", {}).get(\"contents\", [])\n        \n        # ÂàõÂª∫Ê£ÄÊµãÂô®Âπ∂Â§ÑÁêÜ\n\
          \        detector = OptimizedServiceUnavailableDetector()\n        matches\
          \ = detector.detect_logs(logs, max_results=30)\n        \n        return\
          \ {\"result\": matches}\n        \n    except json.JSONDecodeError as e:\n\
          \        return {\"error\": f\"JSONËß£ÊûêÈîôËØØ: {str(e)}\"}\n    except Exception\
          \ as e:\n        return {\"error\": f\"Â§ÑÁêÜÈîôËØØ: {str(e)}\"}"
        code_language: python3
        desc: ''
        isInIteration: true
        iteration_id: '1753414518300'
        outputs:
          result:
            children: null
            type: array[object]
        selected: false
        title: ÊèêÂèñÈîôËØØÊó•Âøó
        type: code
        variables:
        - value_selector:
          - '1753414547927'
          - text
          variable: log_json
      height: 54
      id: '1753415013827'
      parentId: '1753414518300'
      position:
        x: 732
        y: 65
      positionAbsolute:
        x: 3498
        y: 563
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        code: "import json\n\ndef main(success_rate_data_json: str, tps_data_json:\
          \ str):\n    \"\"\"\n    ÈÄöËøáÂàÜÊûêÊúÄËøëÊï∞ÊçÆÁ™óÂè£ÁöÑÁ∫øÊÄßÂõûÂΩíÊñúÁéáÊù•ËØÜÂà´‰∏ãÈôçË∂ãÂäø„ÄÇ\n    \"\"\"\n    try:\n\
          \        success_rate_data = json.loads(success_rate_data_json)\n      \
          \  success_metric_data = success_rate_data.get(\"data\", {})\n        tps_data\
          \ = json.loads(tps_data_json)\n        tps_metric_data = tps_data.get(\"\
          data\", {})\n    except json.JSONDecodeError as e:\n        print(f\"JSONÊ†ºÂºèÈîôËØØ:\
          \ {e}\")\n        return []\n\n    success_rate_slop_threshold = -0.001\n\
          \    tps_slop_threshold = -0.001\n    success_rate_trend = analyze_trend(success_metric_data,\
          \ 0, success_rate_slop_threshold)\n    tps_trend = analyze_trend(tps_metric_data,\
          \ 0, tps_slop_threshold)\n    return {\n        \"result\": json.dumps({\n\
          \            \"success_rate_trend\": success_rate_trend,\n            \"\
          tps_trend\": tps_trend\n        })\n    }\n\ndef _calculate_slope(values:\
          \ list) -> float:\n    n = len(values)\n    if n < 2:\n        return 0.0\n\
          \n    x_coords = list(range(n))\n    y_coords = values\n\n    sum_x = sum(x_coords)\n\
          \    sum_y = sum(y_coords)\n    sum_xy = sum(x * y for x, y in zip(x_coords,\
          \ y_coords))\n    sum_x_squared = sum(x**2 for x in x_coords)\n\n    numerator\
          \ = n * sum_xy - sum_x * sum_y\n    denominator = n * sum_x_squared - sum_x**2\n\
          \n    if denominator == 0:\n        return 0.0\n\n    return numerator /\
          \ denominator\n\n\ndef analyze_trend(metric_data: dict, window_size: int\
          \ = 10, slope_threshold: float = -0.05):\n    if slope_threshold > 0:\n\
          \        slope_threshold = -slope_threshold\n\n    result = {}\n    try:\n\
          \        timeseries_list = metric_data.get('timeseries', [])\n        \n\
          \        for i, series in enumerate(timeseries_list):\n            legend\
          \ = series.get('legend', f'Êú™ÂëΩÂêçÂ∫èÂàó {i+1}')\n            chart_data = series.get('chart',\
          \ {}).get('chartData', {})\n            \n            num_points = len(chart_data)\n\
          \            \n            if num_points < 2:\n                continue\n\
          \n            current_window_size = window_size\n            if current_window_size\
          \ == 0 or current_window_size > num_points:\n                current_window_size\
          \ = num_points\n\n            sorted_items = sorted(chart_data.items(),\
          \ key=lambda item: int(item[0]))\n            \n            if current_window_size\
          \ > 0:\n                recent_values = [item[1] for item in sorted_items[-current_window_size:]]\n\
          \            else:\n                continue\n\n            slope = _calculate_slope(recent_values)\n\
          \n            if slope < slope_threshold:\n                result = {\n\
          \                    \"legend\": legend,\n                    \"reason\"\
          : f\"ÊúÄËøë {current_window_size} ‰∏™ÁÇπÁöÑË∂ãÂäøÊñúÁéá {slope:.4f} ‰Ωé‰∫éÈòàÂÄº {slope_threshold}\"\
          ,\n                    \"slope\": slope,\n                    \"raw_data\"\
          : chart_data\n                }\n\n    except (KeyError, IndexError, TypeError)\
          \ as e:\n        print(f\"Â§ÑÁêÜÊï∞ÊçÆÊó∂Âá∫ÈîôÔºåËØ∑Ê£ÄÊü•Êï∞ÊçÆÁªìÊûÑ: {e}\")\n        return {}\n\n\
          \    return result"
        code_language: python3
        desc: ''
        isInIteration: true
        iteration_id: '1753414276399'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ÂàÜÊûêÂèóÂΩ±ÂìçÊúçÂä°
        type: code
        variables:
        - value_selector:
          - '1753414387530'
          - text
          variable: success_rate_data_json
        - value_selector:
          - '1753681278579'
          - result
          variable: tps_data_json
      height: 54
      id: '1753421605090'
      parentId: '1753414276399'
      position:
        x: 1036
        y: 68
      positionAbsolute:
        x: 6678
        y: 956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Specified service name
            ja_JP: Specified service name
            pt_BR: Specified service name
            zh_Hans: ÊåáÂÆöÁöÑÊúçÂä°Âêç
          label:
            en_US: service_name
            ja_JP: service_name
            pt_BR: service_name
            zh_Hans: service_name
          llm_description: ÊåáÂÆöÁöÑÊúçÂä°Âêç
          max: null
          min: null
          name: service_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Specified endpoint name
            ja_JP: Specified endpoint name
            pt_BR: Specified endpoint name
            zh_Hans: ÊåáÂÆöÁöÑÊúçÂä°Á´ØÁÇπÂêç
          label:
            en_US: content_key
            ja_JP: content_key
            pt_BR: content_key
            zh_Hans: content_key
          llm_description: ÊåáÂÆöÁöÑÊúçÂä°Á´ØÁÇπÂêç
          max: null
          min: null
          name: content_key
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          content_key: ''
          endTime: ''
          service_name: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: ÊúçÂä°ËØ∑Ê±ÇÊàêÂäüÁéá(ÊåâÊúçÂä°ÂêçÂíåÂÜÖÂÆπÈîÆÁªüËÆ°,ÊåáÂÆöÊó∂Èó¥ÊÆµÂÜÖ)
        tool_configurations: {}
        tool_label: ÊúçÂä°ËØ∑Ê±ÇÊàêÂäüÁéá(ÊåâÊúçÂä°ÂêçÂíåÂÜÖÂÆπÈîÆÁªüËÆ°,ÊåáÂÆöÊó∂Èó¥ÊÆµÂÜÖ)
        tool_name: Originx ÂåóÊûÅÊòüÊåáÊ†á (ÊúçÂä°Â±ÇÁ∫ß) - REDÊåáÊ†á - ËØ∑Ê±ÇÊàêÂäüÁéá
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          service_name:
            type: mixed
            value: '{{#1753414255071.result#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753426534118'
      position:
        x: 5338
        y: 758
      positionAbsolute:
        x: 5338
        y: 758
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Service name
            ja_JP: Service name
            pt_BR: Service name
            zh_Hans: ÊúçÂä°Âêç
          label:
            en_US: service
            ja_JP: service
            pt_BR: service
            zh_Hans: service
          llm_description: Service name
          max: null
          min: null
          name: service
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: ÈõÜÁæ§
          label:
            en_US: cluster
            ja_JP: cluster
            pt_BR: cluster
            zh_Hans: cluster
          llm_description: cluster
          max: null
          min: null
          name: cluster
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: endpoint
            ja_JP: endpoint
            pt_BR: endpoint
            zh_Hans: endpoint
          label:
            en_US: endpoint
            ja_JP: endpoint
            pt_BR: endpoint
            zh_Hans: endpoint
          llm_description: endpoint
          max: null
          min: null
          name: endpoint
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          cluster: ''
          endTime: ''
          endpoint: ''
          service: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÊúçÂä°REDÊåáÊ†á
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÊúçÂä°REDÊåáÊ†á
        tool_name: dataplane_service_redcharts
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          service:
            type: mixed
            value: '{{#1753414255071.result#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753426546760'
      position:
        x: 4730
        y: 758
      positionAbsolute:
        x: 4730
        y: 758
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 1a251b76-1e32-4905-b8d1-859a76bf6237
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: 77620c0c-48c7-4bf4-b0ea-2d673be4b5e3
          role: user
          text: '# ‰ªªÂä°

            Ê†πÊçÆÊó•ÂøóÂÜÖÂÆπÂàÜÊûêÊúçÂä°‰∏çÂèØÁî®ÂéüÂõ†ÂíåÊé®ÊµãÊòØÂÜÖÈÉ®ÈóÆÈ¢òËøòÊòØÂ§ñÈÉ®ÈóÆÈ¢ò„ÄÇ

            # Êï∞ÊçÆ

            ÂëäË≠¶‰∫ã‰ª∂Ôºö{{#1742807803325.alertName#}}

            Êó∂Èó¥ÊÆµÂÜÖËá™Ë∫´ÈîôËØØÁõ∏ÂÖ≥Êó•ÂøóÔºö{{#1753687345334.error_logs_str#}}

            ÊúçÂä°Ôºö{{#1753414255071.result#}}

            # ÂàÜÊûêÊÄùË∑Ø

            ËÅöÁÑ¶‰∫éÂëäË≠¶ÂíåÁõ∏ÂÖ≥ÁöÑÈîôËØØÊó•ÂøóÔºåÊåâÊó∂Èó¥ÁÇπÊÄªÁªìÈîôËØØÂéüÂõ†ÔºåÊ†πÊçÆÊó•Âøó‰∏ä‰∏ãÊñáÂà§Êñ≠ÊòØÂ∫îÁî®Ëá™Ë∫´ÂéüÂõ†ËøòÊòØÂ§ñÈÉ®‰æùËµñÂéüÂõ†„ÄÇ

            # ËæìÂá∫

            1. ÁªôÂá∫ÈóÆÈ¢ò‰∫ßÁîüÁöÑÂéüÂõ†ÊòØÂÜÖÈÉ®ËøòÊòØÂ§ñÈÉ®ÔºåÂ¶ÇÊûúÊòØÂ§ñÈÉ®ÂéüÂõ†Â∞ùËØïÊÄªÁªìÂá∫Âá∫ÈîôÁöÑÂ§ñÈÉ®ÊúçÂä°„ÄÇ

            2. ÊåâÊó∂Èó¥ÂíåÂÜÖÂÆπÊÄªÁªìÈîôËØØÊó•Âøó„ÄÇ

            3. ËæìÂá∫Ë¶ÅÂåÖÂê´ÂÆåÊï¥ÂëäË≠¶‰∏ä‰∏ãÊñáÔºåÊúçÂä°Âú®xxÊó∂Èó¥‰∫ßÁîü‰∫ÜxxÂëäË≠¶ÔºåÊé®Êñ≠‰∏∫ÂÜÖÈÉ®/Â§ñÈÉ®ÂéüÂõ†ÔºåÁõ∏ÂÖ≥Êó•Âøó‰∏∫xxÔºåÂèØËÉΩÂéüÂõ†ÊòØxx„ÄÇ'
        selected: false
        title: ÂàÜÊûêÈóÆÈ¢òÊòØÂÜÖÈÉ®/Â§ñÈÉ®‰∫ßÁîü
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753433531861'
      position:
        x: 6998
        y: 498
      positionAbsolute:
        x: 6998
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 33d6ac62-5c51-4b4a-a568-15502d859538
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: 9447a640-941c-4ddc-a0fb-904e21b8d782
          role: user
          text: '# ‰ªªÂä°

            ÊúçÂä°ÁöÑËøõÁ®ã{{#1742807803325.pid#}}ÊåÅÁª≠‰∏ÄÊÆµÊó∂Èó¥‰∏çÊ¥ªË∑ÉÔºåÂ∑≤Áü•Ê†πÊçÆÊó•ÂøóÊ≤°ÊúâÂàÜÊûêÂá∫ÂÖ∑‰ΩìÂéüÂõ†Áé∞Âú®ÂàÜÊûêÊúçÂä°ËøõÁ®ãÊ∂à‰∫°‰∏éËµÑÊ∫ê‰ΩøÁî®ÈáèÊòØÂê¶ÊúâÂÖ≥Âπ∂ÁªôÂá∫‰∏Ä‰∏™ÁÆÄÂçïÊÄªÁªì„ÄÇ

            Ê†πÊçÆÊúçÂä°ÊâÄÂú®‰∏ªÊú∫ËµÑÊ∫ê‰ΩøÁî®Êï∞ÊçÆÂíåÊúçÂä°ËøõÁ®ã‰∏ä‰∏ÄÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑÊó∂Èó¥ÔºåÂàÜÊûêËøõÁ®ãÊúçÂä°‰∏çÂèØÁî®ÊòØÂê¶‰∏éËµÑÊ∫ê‰ΩøÁî®Áõ∏ÂÖ≥ÔºåÂπ∂ÁªôÂá∫‰∏ÄÂè•ÁÆÄÂçïÊÄªÁªì„ÄÇ

            # Êï∞ÊçÆ

            Êó∂Èó¥ÊÆµÂÜÖÁöÑ‰∏ªÊú∫cpu‰ΩøÁî®Èáè{{#1753691763954.text#}}ÔºàÂÖ∂‰∏≠Êó∂Èó¥Êà≥Âçï‰Ωç‰∏∫ÂæÆÁßíÔºâÔºåÊó∂Èó¥ÊÆµÂÜÖÁöÑ‰∏ªÊú∫ÂÜÖÂ≠ò‰ΩøÁî®Èáè{{#1753691720044.text#}}ÔºàÂÖ∂‰∏≠Êó∂Èó¥Êà≥Âçï‰Ωç‰∏∫ÂæÆÁßíÔºâÔºåËøõÁ®ã‰∏ä‰∏ÄÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑÊó∂Èó¥{{#1753436915396.text#}}(Áßí)ÔºåÂëäË≠¶{{#1742807803325.alertName#}}ÔºåËøõÁ®ãÂêç{{#1742807803325.comm#}}„ÄÇ

            # ÂàÜÊûêÊÄùË∑Ø

            1. Â¶ÇÊûúËµÑÊ∫ê‰ΩøÁî®Èáè‰∏ÄÁõ¥Â§Ñ‰∫éÂπ≥Á®≥Áä∂ÊÄÅÔºåÊàñËÄÖÊ≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÂàôËÆ§‰∏∫ËøõÁ®ãÊ∂àÂ§±‰∏éËµÑÊ∫ê‰ΩøÁî®Êó†ÂÖ≥ÔºåÊèêÈÜíÁî®Êà∑ÂèØËÉΩ‰∏∫ÂºÇÊ≠•Â∑•‰ΩúËøõÁ®ãÔºåÂ±û‰∫éÊ≠£Â∏∏Áé∞Ë±°„ÄÇ

            2. Â¶ÇÊûúËøõÁ®ãÂ∑≤ÁªèÊ∂àÂ§±‰∏ÄÊÆµÊó∂Èó¥ÔºåÂà§Êñ≠ËµÑÊ∫ê‰ΩøÁî®ÈáèÊòØÂê¶Á¨¶ÂêàÂú®ËøõÁ®ãÊé¢ÊµãÊó∂Èó¥‰πãÂâçÂ§Ñ‰∫é‰∏äÂçá‰∏îËææÂà∞ÂæàÈ´òÁöÑÊ∞¥Âπ≥ÔºåÂú®ËøõÁ®ãÊé¢ÊµãÊó∂Èó¥‰πãÂêéËøÖÈÄü‰∏ãÈôçÂπ∂Ë∂ã‰∫éÂπ≥Á®≥ÔºåÂ¶ÇÊûúÁ¨¶ÂêàËøô‰∏™ËßÑÂàôÂàôËÆ§‰∏∫ËøõÁ®ãÊ∂àÂ§±Áî±‰∫éËµÑÊ∫ê‰ΩøÁî®ÂºïËµ∑„ÄÇ

            # ËæìÂá∫

            1. ÊåâÊó∂Èó¥Âå∫Èó¥ÊÄªÁªì‰∏ªÊú∫cpuÂíåÂÜÖÂ≠òÁöÑ‰ΩøÁî®Ë∂ãÂäøÔºåÂπ∂Âà§Êñ≠ÊúçÂä°‰∏çÂèØÁî®ÊòØÂê¶‰∏éËµÑÊ∫ê‰ΩøÁî®ËøáÂ§öÊúâÂÖ≥ÔºåÊó†ÈúÄÁªôÂá∫‰∏çÂèØÁî®ÁöÑÈ¢ùÂ§ñÊé®ÊµãÂéüÂõ†„ÄÇ

            2. ËæìÂá∫Ë¶ÅÂåÖÂê´ÂÆåÊï¥ÁöÑÂëäË≠¶‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåÊúçÂä°xxÂú®xxÊó∂Èó¥ÊÆµÂèëÁîü‰∫ÜxxÂëäË≠¶+‰Ω†ÁªôÂá∫ÁöÑÂëäË≠¶ÊÄªÁªì„ÄÇ

            '
        selected: false
        title: ÂàÜÊûêÊòØÂê¶‰∏éËµÑÊ∫ê‰ΩøÁî®ÈáèÁõ∏ÂÖ≥
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753436673318'
      position:
        x: 6168
        y: 628
      positionAbsolute:
        x: 6168
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 46ff962f-3331-441e-8d37-f179e08c916d
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: ffc64099-5503-4da5-902e-25740ddf2b3a
          role: user
          text: '# ‰ªªÂä°

            Â∏ÆÂä©ÂàÜÊûêÊúçÂä°ËøõÁ®ãÊ∂à‰∫°ÊòØÂê¶‰∏éÊÅ∂ÊÑèËØ∑Ê±ÇÊúâÂÖ≥Âπ∂ÁªôÂá∫‰∏Ä‰∏™ÊÄªÁªìÊä•Âëä„ÄÇ

            Ê†πÊçÆÊúçÂä°ËØ∑Ê±ÇÈáèÂíåÊàêÂäüÁéáÊï∞ÊçÆ‰ª•ÂèäÊúçÂä°ËøõÁ®ã‰∏ä‰∏ÄÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑÊó∂Èó¥ÔºàÁßíÔºâÔºåÂàÜÊûêÊúçÂä°‰∏çÂèØÁî®ÊòØÂê¶ÊòØÁî±‰∫éÈÅ≠ÂèóÊÅ∂ÊÑèÊîªÂáªÈÄ†Êàê„ÄÇ

            # Êï∞ÊçÆ

            ÊúçÂä°ËØ∑Ê±ÇÊàêÂäüÁéá{{#1753426534118.text#}}ÔºàÂÖ∂‰∏≠Êó∂Èó¥Êà≥Âçï‰Ωç‰∏∫ÂæÆÁßíÔºâÔºåÊúçÂä°ËØ∑Ê±ÇÈáè{{#1753437328850.tps#}}ÔºàÂÖ∂‰∏≠Êó∂Èó¥Êà≥Âçï‰Ωç‰∏∫ÂæÆÁßíÔºâÔºåËøõÁ®ã‰∏ä‰∏ÄÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑÊó∂Èó¥{{#1753436915396.text#}}ÔºåÂëäË≠¶{{#1742807803325.alertName#}}ÔºåËøõÁ®ãÂêç{{#1742807803325.comm#}}„ÄÇ

            # ÂàÜÊûêÊÄùË∑Ø

            1. Â¶ÇÊûúËØ∑Ê±ÇÊàêÂäüÁéá‰∏ÄÁõ¥‰∏∫0ÔºåÂàô‰ª£Ë°®Ê≤°ÊúâËØ∑Ê±ÇÊàêÂäüÁéáÊï∞ÊçÆÔºàËøôÊÆµÊó∂Èó¥ÂÜÖÊ≤°ÊúâËØ∑Ê±ÇÔºåÊâÄ‰ª•ÊàêÂäüÁéá‰∏∫0ÔºâÔºåÂ¶ÇÊûúËØ∑Ê±ÇÈáè‰πü‰∏∫0Ôºå‰ª£Ë°®‰∏çÂ≠òÂú®ÊÅ∂ÊÑèËØ∑Ê±Ç„ÄÇ

            2. Â¶ÇÊûúÊúçÂä°ËØ∑Ê±ÇÈáèÂíåËØ∑Ê±ÇÊàêÂäüÁéá‰∏ÄÁõ¥Â§Ñ‰∫éÂπ≥Á®≥Áä∂ÊÄÅÔºåÊàñËÄÖÊ≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÔºåÂàôËÆ§‰∏∫ËøõÁ®ãÊ∂àÂ§±‰∏éÂÖ∂Êó†ÂÖ≥ÔºåÊèêÁ§∫ÂèØËÉΩ‰∏∫Áü≠ÂëΩÁöÑÂºÇÊ≠•Â∑•‰ΩúËøõÁ®ãÔºåÂ±û‰∫éÊ≠£Â∏∏Áé∞Ë±°„ÄÇ

            3. Â¶ÇÊûúÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÔºåÂà§Êñ≠ÊúçÂä°ËØ∑Ê±ÇÈáèÊòØÂê¶Á¨¶Âêà‰∏ãÈù¢ËßÑÂàôÔºöÂú®ËøõÁ®ãÊé¢ÊµãÊó∂Èó¥‰πãÂâçÂ§Ñ‰∫é‰∏äÂçá‰∏îËææÂà∞ÂæàÈ´òÁöÑÊ∞¥Âπ≥ÔºåËØ∑Ê±ÇÊàêÂäüÁéáÂú®ËøõÁ®ãÊé¢ÊµãÊó∂Èó¥‰πãÈó¥Â§Ñ‰∫é‰∏ãÈôç‰∏îËææÂà∞ËæÉ‰ΩéÊ∞¥Âπ≥ÔºõÂú®ËøõÁ®ãÊé¢ÊµãÊó∂Èó¥‰πãÂêéËØ∑Ê±ÇÈáèËøÖÈÄü‰∏ãÈôçÂπ∂Ë∂ã‰∫éÂπ≥Á®≥ÔºåÊàêÂäüÁéáÁ®≥ÂÆöÂú®‰∏Ä‰∏™ÂêàÁêÜÊ∞¥Âπ≥ÔºàÊ≥®ÊÑèÊ≠§Êó∂Áî±‰∫éËøõÁ®ãÂèØËÉΩÊ∂àÂ§±Ôºå‰∏§‰∏™Êï∞ÊçÆÂèØËÉΩÂùá‰∏∫ËæÉ‰ΩéÊ∞¥Âπ≥ÔºâÔºåÂ¶ÇÊûúÁ¨¶ÂêàËøô‰∏™ËßÑÂàôÂàôËÆ§‰∏∫ËøõÁ®ãÊ∂àÂ§±Áî±‰∫éËµÑÊ∫ê‰ΩøÁî®ÂºïËµ∑„ÄÇ

            # ËæìÂá∫

            1. ÊåâÊó∂Èó¥Âå∫Èó¥ÊÄªÁªìÊúçÂä°ËØ∑Ê±ÇÈáèÂíåÊàêÂäüÁéáÁöÑË∂ãÂäøÔºåÂπ∂Âà§Êñ≠ÊúçÂä°‰∏çÂèØÁî®ÊòØÂê¶ÂèØËÉΩÂ≠òÂú®ÊÅ∂ÊÑèËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊó†ÂÖ≥Êó†ÈúÄÁªôÂá∫‰∏çÂèØÁî®ÁöÑÈ¢ùÂ§ñÊé®ÊµãÂéüÂõ†„ÄÇ

            2. ËæìÂá∫Ë¶ÅÂåÖÂê´ÂÆåÊï¥ÁöÑÂëäË≠¶‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåÊúçÂä°xxÂú®xxÊó∂Èó¥ÊÆµÂèëÁîü‰∫ÜxxÂëäË≠¶+‰Ω†ÁªôÂá∫ÁöÑÂëäË≠¶ÊÄªÁªì„ÄÇ

            '
        selected: false
        title: ÂàÜÊûêÊòØÂê¶Â≠òÂú®ÊÅ∂ÊÑèËØ∑Ê±Ç
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753436803036'
      position:
        x: 6168
        y: 758
      positionAbsolute:
        x: 6168
        y: 758
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Name of process, metirc's comm label.
            ja_JP: Name of process, metirc's comm label.
            pt_BR: Name of process, metirc's comm label.
            zh_Hans: ËøõÁ®ãÂêçÔºåÊåáÊ†ácommÊ†áÁ≠æ
          label:
            en_US: Name of process.
            ja_JP: Name of process.
            pt_BR: Name of process.
            zh_Hans: ËøõÁ®ãÂêç
          llm_description: Name of process, metric's comm label.
          max: null
          min: null
          name: comm
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Name of workload.
            ja_JP: Name of workload.
            pt_BR: Name of workload.
            zh_Hans: Â∑•‰ΩúË¥üËΩΩÂêç
          label:
            en_US: Name of workload.
            ja_JP: Name of workload.
            pt_BR: Name of workload.
            zh_Hans: Â∑•‰ΩúË¥üËΩΩÂêç
          llm_description: Name of workload.
          max: null
          min: null
          name: workloadName
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Id of process
            ja_JP: Id of process
            pt_BR: Id of process
            zh_Hans: ËøõÁ®ãid
          label:
            en_US: Id of process.
            ja_JP: Id of process.
            pt_BR: Id of process.
            zh_Hans: ËøõÁ®ãid
          llm_description: Id of process.
          max: null
          min: null
          name: pid
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Name of node.
            ja_JP: Name of node.
            pt_BR: Name of node.
            zh_Hans: ‰∏ªÊú∫Âêç
          label:
            en_US: Name of node.
            ja_JP: Name of node.
            pt_BR: Name of node.
            zh_Hans: ‰∏ªÊú∫Âêç
          llm_description: Name of node.
          max: null
          min: null
          name: nodeName
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          comm: ''
          endTime: ''
          nodeName: ''
          pid: ''
          startTime: ''
          workloadName: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: ÊúçÂä°/ËøõÁ®ã‰∏äÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑUnixÊó∂Èó¥Êà≥
        tool_configurations: {}
        tool_label: ÊúçÂä°/ËøõÁ®ã‰∏äÊ¨°Ë¢´Êé¢ÊµãÂà∞ÁöÑUnixÊó∂Èó¥Êà≥
        tool_name: service_last_seen
        tool_parameters:
          comm:
            type: mixed
            value: '{{#1742807803325.comm#}}'
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          nodeName:
            type: mixed
            value: '{{#1742807803325.nodeName#}}'
          pid:
            type: mixed
            value: '{{#1742807803325.pid#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
          workloadName:
            type: mixed
            value: '{{#1742807803325.workloadName#}}'
        type: tool
      height: 54
      id: '1753436915396'
      position:
        x: 4426
        y: 628
      positionAbsolute:
        x: 4426
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(red: str) -> dict:\n\n    try:\n        data\
          \ = json.loads(red)\n    except json.JSONDecodeError:\n        print(\"\
          Error: Invalid JSON string provided.\")\n        return {}\n\n    for item\
          \ in data.get(\"data\", []):\n        if item.get(\"title\") == \"ÂêûÂêêÈáè\"\
          :\n            return {\n                \"tps\": json.dumps(item)\n   \
          \         }\n            \n    return {\n        \"tps\": \"\"\n    }"
        code_language: python3
        desc: ''
        outputs:
          tps:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñÊúçÂä°ËØ∑Ê±ÇÈáè
        type: code
        variables:
        - value_selector:
          - '1753426546760'
          - text
          variable: red
      height: 54
      id: '1753437328850'
      position:
        x: 5034
        y: 758
      positionAbsolute:
        x: 5034
        y: 758
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: bc74b5ac-8d4a-4145-9724-a48a089545fc
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: 4edabede-96e5-4013-8c41-ebf7d4de7c52
          role: user
          text: '# ‰ªªÂä°

            ÊúçÂä°Âá∫Áé∞‰∫Ü‰∏çÂèØÁî®ÁöÑÂëäË≠¶ÔºåÈÄöËøáÂâçÈù¢ÁöÑÂàÜÊûêÊ≤°ÊúâÊé¢ÊµãÂà∞Áõ∏ÂÖ≥ÁöÑÈîôËØØÊó•ÂøóÔºåÊâÄ‰ª•ËØ∑Ê†πÊçÆÊúçÂä°Âú®ÊüêÊó∂Èó¥ÊÆµÂÜÖÁöÑËµÑÊ∫ê‰ΩøÁî®ÈáèÂíåÊúçÂä°ËØ∑Ê±ÇÈáè„ÄÅÊàêÂäüÁéá‰ΩøÁî®Ë∂ãÂäø‰ª•Âèä‰∏äËø∞ÊåáÊ†á‰∏éÊúçÂä°Â≠òÊ¥ªÊó∂Èó¥ÁöÑÂÖ≥Á≥ªÔºåÂà§Êñ≠ÊúçÂä°‰∏çÂèØÁî®ÁöÑÂéüÂõ†ÊòØ‰ªÄ‰πà„ÄÇ

            # Êï∞ÊçÆ

            ËµÑÊ∫ê‰ΩøÁî®ÈáèË∂ãÂäøÂíå‰∏éÊúçÂä°Â≠òÊ¥ªÊó∂Èó¥ÂÖ≥Á≥ª

            {{#1753436673318.text#}}

            ÊàêÂäüÁéáÂíåËØ∑Ê±ÇÈáèË∂ãÂäøÂíå‰∏éÊúçÂä°Â≠òÊ¥ªÊó∂Èó¥ÂÖ≥Á≥ª

            {{#1753436803036.text#}}


            ÂëäË≠¶{{#1742807803325.alertName#}}

            Â¶ÇÊûúËØ∑Ê±ÇÊàêÂäüÁéá‰∏ÄÁõ¥‰∏∫0ÔºàÁõ∏ÂÖ≥Êó∂Èó¥ÊÆµÂÜÖÊ≤°ÊúâËØ∑Ê±ÇÊâÄ‰ª•ÊàêÂäüÁéá‰∏ÄÁõ¥‰∏∫0ÔºâÔºåÂàô‰ª£Ë°®Ê≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÔºå‰∏∫Ê≠£Â∏∏Áé∞Ë±°„ÄÇ

            # ÂàÜÊûêÊÄùË∑Ø

            1. Â¶ÇÊûúÁõ∏ÂÖ≥Êï∞ÊçÆÂùáÂ§Ñ‰∫éÊ≠£Â∏∏Ê∞¥Âπ≥Âàô‰ª£Ë°®‰∏éËøô‰∫õÊï∞ÊçÆÊó†ÂÖ≥ÔºåÂëäË≠¶‰∫ßÁîüÁöÑÂéüÂõ†ÂèØËÉΩÊòØËØØÂëä„ÄÇ

            2. Â¶ÇÊûúÊï∞ÊçÆË°®ÊòéÂèØËÉΩ‰∏éËµÑÊ∫ê‰ΩøÁî®ÊúâÂÖ≥‰∏î‰πüÂèØËÉΩÂ≠òÂú®ÊÅ∂ÊÑèËØ∑Ê±ÇÔºåÂàôÊï∞ÊçÆÂ¢ûÂπÖÂà§Êñ≠‰∏Ä‰∏™ÊúÄÂèØËÉΩÂéüÂõ†„ÄÇ

            # ËæìÂá∫

            Âè™ÈúÄË¶ÅÁªôÂá∫ËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµÊèèËø∞ÔºåÂëäË≠¶ÁöÑÊúÄÂèØËÉΩÂéüÂõ†„ÄÇ'
        selected: false
        title: ÊÄªÁªìÂÖ∂‰ªñÂéüÂõ†
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753437974705'
      position:
        x: 6998
        y: 628
      positionAbsolute:
        x: 6998
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main(arg1: str):\n    red = json.loads(arg1).get(\"data\", [])\n\
          \    result = {}\n    result[\"data\"] = {\"timeseries\": []} \n\n    for\
          \ ts in red:\n        if ts[\"title\"] == \"ÂêûÂêêÈáè\":\n            result[\"\
          data\"][\"timeseries\"] = ts[\"timeseries\"]\n\n    return {\n        \"\
          result\": json.dumps(result)\n    }"
        code_language: python3
        desc: ''
        isInIteration: true
        iteration_id: '1753414276399'
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Ëé∑ÂèñËØ∑Ê±ÇÈáè
        type: code
        variables:
        - value_selector:
          - '1753414403009'
          - text
          variable: arg1
      height: 54
      id: '1753681278579'
      parentId: '1753414276399'
      position:
        x: 736
        y: 68
      positionAbsolute:
        x: 6378
        y: 956
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: /models/qwen2.5-32B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: ac73b7b4-a4f3-4363-bf5f-b5a9299f8b87
          role: system
          text: ‰Ω†ÊòØ‰∏Ä‰ΩçÂèØËßÇÊµãÊÄßÈ¢ÜÂüüÊô∫ËÉΩÂä©ÊâãÔºåÂ∏ÆÂä©Áî®Êà∑ÂàÜÊûêËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
        - id: 6528755f-fe11-47bc-992e-026e11c523ae
          role: user
          text: '# ‰ªªÂä°

            ÊúçÂä°Âá∫Áé∞‰∏çÂèØÁî®ÈóÆÈ¢òÔºåÊ†πÊçÆÂèóÂΩ±Âìç‰∏äÊ∏∏ÊúçÂä°ÁöÑÊ±ÇÊàêÂäüÁéá‰∏ãÈôçÊÉÖÂÜµÂíåËØ∑Ê±ÇÈáè‰∏ãÈôçÊÉÖÂÜµÂíåÈìæË∑Ø‰∏≠ÈîôËØØÁ´ØÁÇπÊÄªÁªìÂèóÂΩ±ÂìçÊúçÂä°ÁöÑÁä∂ÂÜµ„ÄÇ

            # Êï∞ÊçÆ

            ÂèóÂΩ±ÂìçÊúçÂä°{{#1753414276399.output#}}ÔºåÊ≤°ÊúâÊï∞ÊçÆÂàôÂøΩÁï•ÔºåÊèêÁ§∫‰∏äÊ∏∏ÊúçÂä°ÂùáÊ≠£Â∏∏ÔºåÊó†ÂèóÂΩ±ÂìçÊúçÂä°„ÄÇ

            ÂØπÂ∫îÊó∂Èó¥ÊÆµÂÜÖÁõ∏ÂÖ≥ÈìæË∑ØÁöÑÈîôËØØÁ´ØÁÇπ{{#17537573455001.errorInstances#}}ÔºåÊ≤°ÊúâÊï∞ÊçÆÂàôÂøΩÁï•„ÄÇ

            # ÂàÜÊûêÊÄùË∑Ø

            Ê†πÊçÆÂèóÂΩ±ÂìçÊúçÂä°ÁöÑËØ∑Ê±ÇÊàêÂäüÁéáÂíåËØ∑Ê±ÇÈáèÁöÑ‰∏ãÈôçÊÉÖÂÜµÔºåÊÄªÁªìÊúçÂä°ÂèóÂΩ±ÂìçÊÉÖÂÜµÔºà‰∏ãÈôçÁ®ãÂ∫¶ÔºåÂπ≥ÂùáÊ∞¥Âπ≥Á≠âÁ≠âÔºâÊåâÁÖßÂèóÂΩ±ÂìçÁ®ãÂ∫¶ÊéíÂ∫è„ÄÇÂ¶ÇÊûúÊúçÂä°ÁöÑÊï∞ÊçÆÂ§Ñ‰∫éÊ≥¢Âä®Áä∂ÊÄÅÔºåÊó†ÊòéÊòæ‰∏ãÈôçË∂ãÂäø‰Ω†ÂèØ‰ª•ÂøΩÁï•„ÄÇ

            Â¶ÇÊûúÊ≤°ÊúâÁõ∏ÂÖ≥Êï∞ÊçÆÂàôÊèêÁ§∫ÊúçÂä°ÂèØËÉΩÊ≤°ÊúâÁõ∏ÂÖ≥‰∏äÊ∏∏ÊãìÊâëÊàñËÄÖÂèóÂΩ±ÂìçÊúçÂä°Áõ∏ÂÖ≥Êï∞ÊçÆÂùáÂ§Ñ‰∫éÊ≠£Â∏∏ËåÉÂõ¥„ÄÇ

            Â¶ÇÊûúÊúâÈìæË∑Ø‰∏≠ÈîôËØØÁöÑservice-instanceId-endpointÁªÑÂêàÔºåÂàôÊèêÁ§∫ÈìæË∑Ø‰∏≠ËØ•Á´ØÁÇπÂá∫Èîô„ÄÇ

            # ËæìÂá∫

            Âè™ÈúÄÊåâÁÖßÂèóÂΩ±ÂìçÁ®ãÂ∫¶‰æùÊ¨°ÊÄªÁªìÊúçÂä°ÁöÑÂèóÂΩ±ÂìçÊÉÖÂÜµ„ÄÇËØ≠ÊÑèÊòéÁ°ÆÔºåÁÆÄÊ¥ÅÊòé‰∫Ü„ÄÇ'
        selected: false
        title: ÊÄªÁªìÂèóÂΩ±ÂìçÊúçÂä°
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1753684009639'
      position:
        x: 6998
        y: 917
      positionAbsolute:
        x: 6998
        y: 917
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: ÂèØÁî®ÊÄßÂàÜÊûêÁªìÊûú
        type: variable-aggregator
        variables:
        - - '1753433531861'
          - text
        - - '1753437974705'
          - text
      height: 131
      id: '1753686431084'
      position:
        x: 7302
        y: 628
      positionAbsolute:
        x: 7302
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(all_logs):\n    detected = \"false\"\n    error_logs\
          \ = []\n    for logs in all_logs:\n        error_logs.append(logs)\n   \
          \     if len(logs) > 0:\n            detected = \"true\"\n    error_logs\
          \ = error_logs[:20]\n    res = json.dumps({\"logs\": error_logs})\n    MAX_LENGTH\
          \ = 5000\n    while len(res) > MAX_LENGTH and len(error_logs) > 0:\n   \
          \     remove_count = max(1, len(error_logs) // 10)\n        error_logs =\
          \ error_logs[:-remove_count]\n        res = json.dumps({\"logs\": error_logs})\n\
          \    return {\n        \"result\": detected,\n        \"error_logs_str\"\
          : res\n    }"
        code_language: python3
        desc: ''
        outputs:
          error_logs_str:
            children: null
            type: string
          result:
            children: null
            type: string
        selected: false
        title: ÊòØÂê¶Ê£ÄÊµãÂà∞ÈîôËØØÊó•Âøó
        type: code
        variables:
        - value_selector:
          - '1753414518300'
          - output
          variable: all_logs
      height: 54
      id: '1753687345334'
      position:
        x: 3818
        y: 498
      positionAbsolute:
        x: 3818
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Prometheus job name for host metrics
            ja_JP: Prometheus job name for host metrics
            pt_BR: Prometheus job name for host metrics
            zh_Hans: Prometheus‰ªªÂä°ÂêçÁß∞ÔºàÂÆø‰∏ªÊú∫ÊåáÊ†áÔºâ
          label:
            en_US: Prometheus Job
            ja_JP: Prometheus Job
            pt_BR: Tarefa Prometheus
            zh_Hans: Prometheus‰ªªÂä°
          llm_description: Unique identifier for metrics scrape job
          max: null
          min: null
          name: job
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Host node identifier
            ja_JP: Host node identifier
            pt_BR: Host node identifier
            zh_Hans: ÂÆø‰∏ªÊú∫ËäÇÁÇπÊ†áËØÜ
          label:
            en_US: Host Node
            ja_JP: Host Node
            pt_BR: Host Node
            zh_Hans: ÂÆø‰∏ªÊú∫ËäÇÁÇπ
          llm_description: Unique identifier for host node
          max: null
          min: null
          name: node
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          endTime: ''
          job: ''
          node: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÂÆø‰∏ªÊú∫RAM‰ΩøÁî®Áéá
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÂÆø‰∏ªÊú∫RAM‰ΩøÁî®Áéá
        tool_name: Êü•ËØ¢ÂÆø‰∏ªÊú∫RAM‰ΩøÁî®Áéá
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          node:
            type: mixed
            value: '{{#1742807803325.nodeName#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753691720044'
      position:
        x: 5034
        y: 628
      positionAbsolute:
        x: 5034
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Host node identifier
            ja_JP: Host node identifier
            pt_BR: Host node identifier
            zh_Hans: ÂÆø‰∏ªÊú∫ËäÇÁÇπÊ†áËØÜ
          label:
            en_US: Host Node
            ja_JP: Host Node
            pt_BR: Host Node
            zh_Hans: ÂÆø‰∏ªÊú∫ËäÇÁÇπ
          llm_description: Unique identifier for host node
          max: null
          min: null
          name: node
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          endTime: ''
          node: ''
          startTime: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÂÆø‰∏ªÊú∫CPUÁπÅÂøôÁéá
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÂÆø‰∏ªÊú∫CPUÁπÅÂøôÁéá
        tool_name: Êü•ËØ¢ÂÆø‰∏ªÊú∫CPUÁπÅÂøôÁéá
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          node:
            type: mixed
            value: '{{#1742807803325.nodeName#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '1753691763954'
      position:
        x: 5338
        y: 628
      positionAbsolute:
        x: 5338
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: f0d1bc13-a0c5-4876-b5d4-08254f5001ab
            value: 'true'
            varType: string
            variable_selector:
            - '1753687345334'
            - result
          - comparison_operator: contains
            id: 6f1e0274-f4d4-49c2-bb2f-a26993076088
            value: ËØ∑Ê±ÇÈîôËØØÁéá
            varType: string
            variable_selector:
            - '1753411561314'
            - result
          id: 'true'
          logical_operator: or
        desc: ''
        selected: false
        title: ÊòØÂê¶ÈÄöËøáÊó•ÂøóÂà§Êñ≠Ê†πÂõ†
        type: if-else
      height: 152
      id: '1753755983769'
      position:
        x: 4122
        y: 498
      positionAbsolute:
        x: 4122
        y: 498
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: service name
            ja_JP: service name
            pt_BR: service name
            zh_Hans: ÊúçÂä°Âêç
          label:
            en_US: service
            ja_JP: service
            pt_BR: service
            zh_Hans: service
          llm_description: service name
          max: null
          min: null
          name: service
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: namespace
            ja_JP: namespace
            pt_BR: namespace
            zh_Hans: ÂëΩÂêçÁ©∫Èó¥
          label:
            en_US: namespace
            ja_JP: namespace
            pt_BR: namespace
            zh_Hans: namespace
          llm_description: namespace
          max: null
          min: null
          name: namespace
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: endpoint name
            ja_JP: endpoint name
            pt_BR: endpoint name
            zh_Hans: ÊúçÂä°Á´ØÁÇπ
          label:
            en_US: endpoint
            ja_JP: endpoint
            pt_BR: endpoint
            zh_Hans: endpoint
          llm_description: endpoint name
          max: null
          min: null
          name: endpoint
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: instance name
            ja_JP: instance name
            pt_BR: instance name
            zh_Hans: ÂÆû‰æãÂêç
          label:
            en_US: instance
            ja_JP: instance
            pt_BR: instance
            zh_Hans: instance
          llm_description: instance name
          max: null
          min: null
          name: instance
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: node name
            ja_JP: node name
            pt_BR: node name
            zh_Hans: ÊúçÂä°Á´ØÁÇπ
          label:
            en_US: nodeName
            ja_JP: nodeName
            pt_BR: nodeName
            zh_Hans: ‰∏ªÊú∫Âêç
          llm_description: node name
          max: null
          min: null
          name: nodeName
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: containerId
            ja_JP: containerId
            pt_BR: containerId
            zh_Hans: ÊúçÂä°Á´ØÁÇπ
          label:
            en_US: containerId
            ja_JP: containerId
            pt_BR: containerId
            zh_Hans: ÂÆπÂô®id
          llm_description: node name
          max: null
          min: null
          name: containerId
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: process id
            ja_JP: process id
            pt_BR: process id
            zh_Hans: ËøõÁ®ãid
          label:
            en_US: pid
            ja_JP: pid
            pt_BR: pid
            zh_Hans: ËøõÁ®ãid
          llm_description: process id
          max: null
          min: null
          name: pid
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: trace id
            ja_JP: trace id
            pt_BR: trace id
            zh_Hans: trace id
          label:
            en_US: traceId
            ja_JP: traceId
            pt_BR: traceId
            zh_Hans: traceId
          llm_description: trace id
          max: null
          min: null
          name: traceId
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: page number
            ja_JP: page number
            pt_BR: page number
            zh_Hans: È°µÁ†Å
          label:
            en_US: pageNum
            ja_JP: pageNum
            pt_BR: pageNum
            zh_Hans: È°µÁ†Å
          llm_description: page number
          max: null
          min: null
          name: pageNum
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: page size
            ja_JP: page size
            pt_BR: page size
            zh_Hans: ÊØèÈ°µÊù°Êï∞
          label:
            en_US: pageSize
            ja_JP: pageSize
            pt_BR: pageSize
            zh_Hans: ÊØèÈ°µÊù°Êï∞
          llm_description: page size
          max: null
          min: null
          name: pageSize
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query start time(Microsecond)
            ja_JP: Data query start time(Microsecond)
            pt_BR: Data query start time(Microsecond)
            zh_Hans: ÂºÄÂßãÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: startTime
            ja_JP: startTime
            pt_BR: startTime
            zh_Hans: startTime
          llm_description: Data query start time(Microsecond)
          max: null
          min: null
          name: startTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Data query end time(Microsecond)
            ja_JP: Data query end time(Microsecond)
            pt_BR: Data query end time(Microsecond)
            zh_Hans: ÁªìÊùüÊó∂Èó¥ (ÂæÆÁßí)
          label:
            en_US: endTime
            ja_JP: endTime
            pt_BR: endTime
            zh_Hans: endTime
          llm_description: Data query end time(Microsecond)
          max: null
          min: null
          name: endTime
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        params:
          containerId: ''
          endTime: ''
          endpoint: ''
          instance: ''
          namespace: ''
          nodeName: ''
          pageNum: ''
          pageSize: ''
          pid: ''
          service: ''
          startTime: ''
          traceId: ''
        provider_id: apo_select
        provider_name: apo_select
        provider_type: builtin
        selected: false
        title: Êü•ËØ¢ÈìæË∑ØÊï∞ÊçÆ
        tool_configurations: {}
        tool_label: Êü•ËØ¢ÈìæË∑ØÊï∞ÊçÆ
        tool_name: Êü•ËØ¢ÈìæË∑ØÊï∞ÊçÆ
        tool_parameters:
          endTime:
            type: variable
            value:
            - '1741227526517'
            - endTime
          instance:
            type: mixed
            value: '{{#1742807803325.pod#}}'
          namespace:
            type: mixed
            value: ''
          nodeName:
            type: mixed
            value: '{{#1741227526517.nodeName#}}'
          pageNum:
            type: constant
            value: 1
          pageSize:
            type: constant
            value: 100
          service:
            type: mixed
            value: '{{#1753414255071.result#}}'
          startTime:
            type: variable
            value:
            - '1741227526517'
            - startTime
        type: tool
      height: 54
      id: '17537573455000'
      position:
        x: 5034
        y: 917
      positionAbsolute:
        x: 5034
        y: 917
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(data_json: str):\n    data = json.loads(data_json).get('data',\
          \ {}).get('list', [])\n\n    error_instances = []\n    seen_keys = set()\n\
          \n    for trace in data:\n        if not trace.get(\"flags\", {}).get('is_error',\
          \ False):\n            continue\n\n        service = trace.get('service')\n\
          \        instance = trace.get('instanceId')\n        endpoint = trace.get('endpoint')\n\
          \n        unique_key = f\"{service}-{instance}-{endpoint}\"\n        if\
          \ unique_key in seen_keys:\n            continue\n        seen_keys.add(unique_key)\n\
          \n        error_instances.append({\n            'endpoint': endpoint,\n\
          \            'instance': instance,\n            'tid_key': trace.get('tid_key'),\n\
          \            'service': service\n        })\n\n        if len(error_instances)\
          \ >= 30:\n            break\n\n    return {\n        'errorInstances': json.dumps(error_instances),\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          errorInstances:
            children: null
            type: string
        selected: false
        title: ÊèêÂèñÊïÖÈöúÈìæË∑ØÁõ∏ÂÖ≥Á´ØÁÇπ
        type: code
        variables:
        - value_selector:
          - '17537573455000'
          - text
          variable: data_json
      height: 54
      id: '17537573455001'
      position:
        x: 5338
        y: 917
      positionAbsolute:
        x: 5338
        y: 917
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\ndef main() -> dict:\n    return {\n        \"result\": \"{}\",\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: Á©∫ÂΩ±ÂìçÊúçÂä°
        type: code
        variables: []
      height: 54
      id: '1753760026114'
      position:
        x: 7302
        y: 1096.5
      positionAbsolute:
        x: 7302
        y: 1096.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: ËÅöÂêàÂèóÂΩ±ÂìçÊúçÂä°
        type: variable-aggregator
        variables:
        - - '1753760026114'
          - result
        - - '1753684009639'
          - text
      height: 131
      id: '1753760065732'
      position:
        x: 8214
        y: 628
      positionAbsolute:
        x: 8214
        y: 628
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -2780.0992543752186
      y: -360.52073427742823
      zoom: 0.5366858134987545
