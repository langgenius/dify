[mypy]
check_untyped_defs = True
disable_error_code = import-untyped
show_error_codes = True
show_column_numbers = True

exclude = (?x)(  
    # === A2: workflow engine/nodes ===
    ^core/workflow($|/)
    | ^core/app/workflow($|/)
    | ^core/helper/code_executor($|/)
    
    # === B: app runner + prompt ===
    | ^core/prompt($|/)
    | ^core/app/apps/base_app_runner\.py$
    | ^core/app/apps/workflow_app_runner\.py$
    
    # === C: services/controllers/fields/libs ===
    | ^services($|/)
    | ^controllers/console/app($|/)
    | ^controllers/console/explore($|/)
    | ^controllers/console/datasets($|/)
    | ^controllers/console/workspace($|/)
    | ^controllers/service_api/wraps\.py$
    | ^fields/conversation_fields\.py$
    | ^libs/external_api\.py$
    
    # === D: observability + integrations ===
    | ^core/ops($|/)
    | ^extensions($|/)
    
    # === E: vector DB integrations ===
    | ^core/rag/datasource/vdb($|/)
    
    # === non-production or generated code ===
    | ^migrations($|/)
    | ^tests($|/)
    
    | ^configs/middleware/cache/redis_pubsub_config\.py$
    | ^extensions/ext_redis\.py$
    | ^models/execution_extra_content\.py$
    | ^tasks/workflow_execution_tasks\.py$
    | ^core/workflow/nodes/base/node\.py$
    | ^services/human_input_delivery_test_service\.py$
    | ^core/app/apps/advanced_chat/app_generator\.py$
    | ^controllers/console/human_input_form\.py$
    | ^controllers/console/app/workflow_run\.py$
    | ^repositories/sqlalchemy_api_workflow_node_execution_repository\.py$
    | ^extensions/logstore/repositories/logstore_api_workflow_run_repository\.py$
    | ^controllers/web/workflow_events\.py$
    | ^tasks/app_generate/workflow_execute_task\.py$
  )


[mypy-configs.middleware.cache.redis_pubsub_config]
ignore_errors = True

[mypy-extensions.ext_redis]
ignore_errors = True

[mypy-models.execution_extra_content]
ignore_errors = True

[mypy-tasks.workflow_execution_tasks]
ignore_errors = True

[mypy-core.workflow.nodes.base.node]
ignore_errors = True

[mypy-services.human_input_delivery_test_service]
ignore_errors = True

[mypy-core.app.apps.advanced_chat.app_generator]
ignore_errors = True

[mypy-controllers.console.human_input_form]
ignore_errors = True

[mypy-controllers.console.app.workflow_run]
ignore_errors = True

[mypy-repositories.sqlalchemy_api_workflow_node_execution_repository]
ignore_errors = True

[mypy-extensions.logstore.repositories.logstore_api_workflow_run_repository]
ignore_errors = True

[mypy-controllers.web.workflow_events]
ignore_errors = True

[mypy-tasks.app_generate.workflow_execute_task]
ignore_errors = True
